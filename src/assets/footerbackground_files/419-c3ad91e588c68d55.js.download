"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[419],{3164:function(e,t,r){r.d(t,{h:function(){return ButtonGroup},o:function(){return CustomButton}});var a=r(7437),n=r(2265);let CustomButton=e=>{let{onClick:t,type:r,className:o,title:s,languageBtn:l,isLargeBtn:i,isSmallBtn:d,iconBtn:c,roundedIconBtn:u,icon:h,children:f,blockBtn:b,btnWithLink:x,link:g,iconSize:p,isLeftIcon:v,isOutlineBtn:m,isGhostBtn:k,btnType:y,redBtn:w,yellowBtn:C,secondaryBtn:S,darkBtn:j,iconClass:N,disabled:B,isPill:I,isBadge:F,isReactIcon:E,whiteBtn:_,successBtn:R}=e;return(0,a.jsxs)("button",{type:r,disabled:B||!1,onClick:t,className:(k&&c&&f||c&&f&&E?" flex items-center ":"")+(i?"px-8 py-3 text-lg ":d?"px-2 py-2 text-sm ":"px-5 py-2 text-base ")+(u&&i?" rounded-full w-9 h-9 !px-0 !py-0 ":u&&d?" rounded-full w-5 h-5 !px-0 !py-0 ":u?" rounded-full w-7 h-7 !px-0 !py-0 ":" rounded ")+(I&&" rounded-full py-1 ")+(F?" leading-none ":" font-heading ")+(l&&"relative bg-transparent px-0 text-xs text-primary-900 z-0 transition ease-in-out leading-none focus:font-bold hover:bg-transparent active:font-bold before:hidden before:content-[''] before:bg-yellow-600 before:w-4/5 before:h-4/5 before:absolute before:-left-1 before:top-1 before:-z-1 hover:before:block active:before:block focus:before:block ")+(m?" border border-solid !bg-transparent ".concat(w||"redBtn"===y?" text-red-800 hover:text-red-900 border-red-800 hover:border-red-900 ":C||"yellowBtn"===y?" text-yellow-700 hover:text-yellow-600 border-yellow-700 hover:border-yellow-600 ":S||"secondaryBtn"===y?" text-linen border-linen hover:text-deep-earthy-brown hover:border-deep-earthy-brown ":R||"successBtn"===y?" text-teal-800 hover:text-teal-900 border-teal-800 hover:border-teal-900 ":j||"darkBtn"===y?" text-deep-earthy-brown hover:text-black border-deep-earthy-brown hover:border-black ":_||"whiteBtn"===y?" text-linen hover:text-white border-linen hover:border-white ":" border-primary-900 text-primary-900 hover:text-primary-800 hover:border-primary-800 "):k?" border-0 !bg-none bg-transparent !p-0 ".concat(w||"redBtn"===y?" text-red-800 hover:text-red-900 ":C||"yellowBtn"===y?" text-yellow-800 hover:text-yellow-600 ":S||"secondaryBtn"===y?" text-linen hover:text-deep-earthy-brown ":R||"successBtn"===y?" text-teal-800 hover:text-teal-900 ":j||"darkBtn"===y?" text-deep-earthy-brown hover:text-black ":_||"whiteBtn"===y?" text-linen hover:text-white ":"  !bg-none text-primary-900 hover:text-underline "):w||"redBtn"===y?" from-red-700 to-red-800 bg-gradient-to-tr text-white hover:from-red-800 hover:to-red-900":C||"yellowBtn"===y?" from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 bg-gradient-to-tr ":S||"secondaryBtn"===y?" bg-linen text-deep-earthy-brown hover:bg-khadi ":R||"successBtn"===y?" from-teal-700 to-teal-800 bg-gradient-to-tr text-white hover:from-teal-800 hover:to-teal-900 ":j||"darkBtn"===y?" bg-deep-earthy-brown text-white hover:bg-black ":_||"whiteBtn"===y?" bg-white border-solid border border-deep-earthy-brown text-deep-earthy-brown hover:border-black hover:shadow ":" bg-primary-900 text-white hover:bg-primary-800 ")+(b?" w-full block ":" ")+" transition ease-in-out font-medium leading-none ".concat(o||""," \n                ").concat(B&&"opacity-70 !cursor-not-allowed"," "),title:s||"",children:[v&&(u||c)&&(0,a.jsx)(a.Fragment,{children:n.createElement(h,{className:"mr-2  ".concat(N||" w-6 h-6 "),size:"".concat(p)})}),f,!v&&(u||c)&&(0,a.jsx)(a.Fragment,{children:n.createElement(h,{className:"ml-2  ".concat(N||" w-6 h-6 "),size:"".concat(p)})})]})},ButtonGroup=e=>{let{className:t,children:r,withGap:n,gap:o}=e;return(0,a.jsx)("div",{className:"flex\n            ".concat(n&&o?" gap-".concat(o," "):n&&!o?" gap-1 ":n?"":" buttonGroup ","\n            ").concat(t||""," "),children:r})}},4741:function(e,t,r){r.r(t),r.d(t,{CustomImage:function(){return CustomImage}});var a=r(7437),n=r(2265),o=r(6691),s=r.n(o);let CustomImage=e=>{let{alt:t,title:r,src:o,className:l,style:i,height:d,width:c,layout:u,objectFit:h,fill:f,fallBackUrl:b}=e,[x,g]=(0,n.useState)(o);return(0,n.useEffect)(()=>{g(o)},[o]),(0,a.jsx)(s(),{className:"border-0 ".concat(l||""),src:x,alt:t,width:c,height:d,title:r,style:i||{},layout:u,fill:f,onError:()=>{g("/images/placeholder.png")},objectFit:h})}},8984:function(e,t,r){r.d(t,{Z:function(){return input_Feedback}});var a=r(7437),n=r(4829),o=r(2265),s=r(3159),l=r(2031),i=r(3611),d=r(6061),c=r(1628);let u=(0,d.j)("inline-flex items-center rounded-full border border-slate-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 dark1:border-slate-800 dark1:focus:ring-slate-300",{variants:{variant:{default:"border-transparent bg-slate-900 text-slate-50 hover:bg-slate-900/80 dark1:bg-slate-50 dark1:text-slate-900 dark1:hover:bg-slate-50/80",secondary:"border-transparent bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark1:bg-slate-800 dark1:text-slate-50 dark1:hover:bg-slate-800/80",destructive:"border-transparent bg-red-500 text-slate-50 hover:bg-red-500/80 dark1:bg-red-900 dark1:text-slate-50 dark1:hover:bg-red-900/80",outline:"text-slate-950 dark1:text-slate-50"}},defaultVariants:{variant:"default"}});function Badge(e){let{className:t,variant:r,...n}=e;return(0,a.jsx)("div",{className:(0,c.cn)(u({variant:r}),t),...n})}var h=r(3014),f=r(4026),b=r(7700),x=r(7350),input_Feedback=e=>{var t;let{copyValue:r,messages:d,domainId:c,chatContentId:u,feedback_setting:g}=e,[p,v]=(0,o.useState)(!1),[m,k]=(0,o.useState)(null),[y,w]=(0,o.useState)(!1),[C,S]=(0,o.useState)(""),[j,N]=(0,o.useState)(!1),[B,I]=(0,o.useState)(""),[F,E]=(0,o.useState)(null),{actions:_}=(0,f.j_)({updateFeedback:b.updateFeedback}),{state:R}=(0,f.j_)(),z=null==R?void 0:null===(t=R.selectedChatSession)||void 0===t?void 0:t._id,sendFeedback=async e=>{if(k(e),e){let t=d.findIndex(e=>e.id===u),a=[];if(-1!==t&&(null==g?void 0:g.maxConversations)&&!isNaN(+(null==g?void 0:g.maxConversations))){let e=Math.max(0,t-+g.maxConversations+1);a=d.slice(e,t+1)}let o=(0,x.x0)(8);return n.Z.post("".concat("https://api.myscheme.gov.in/feedbacks/v1/feedback"),{appId:c,feedbackType:"like"===e?5:1,chatContent:r,relevantMessages:null==a?void 0:a.map(e=>({content:e.content,role:e.role})),userFeedback:"dislike"===e&&B||"",remarks:"dislike"===e&&C||"",chatSessionId:z,chatContentId:u||o},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD"}}).then(t=>{_.updateFeedback({feedbackType:e,chatContent:r,chatSessionId:z||"",chatContentId:u||o}),v(!0),h.Am.success("Thank you for your feedback")}).catch(e=>{v(!1),h.Am.error("Feedback is already submitted")})}},A=["Irrelevant answer","Incorrect answer","Incomplete Answer","Too General/Vague","Outdated Information","Offensive/Inappropriate","Doesn't Address Question"];return(0,o.useEffect)(()=>{if(null==R?void 0:R.feedbacks){var e;let t=null===(e=R.feedbacks)||void 0===e?void 0:e.find(e=>e.chatContentId===u);t&&(k(t.feedbackType),v(!0))}},[R.feedbacks]),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-3",children:[(0,a.jsx)(h.Ix,{}),(0,a.jsx)(l.Vq,{open:j,onOpenChange:N,children:(0,a.jsxs)(l.cZ,{className:"max-w-[96vw] sm:max-w-2xl rounded",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-2",children:[(0,a.jsx)(l.$N,{className:" leading-6",children:"Provide additional feedback"}),(0,a.jsx)("div",{className:"flex flex-row items-center flex-wrap gap-2 mt-4",children:null==A?void 0:A.map((e,t)=>{let r=t===A.length-1&&A.length%2!=0;return(0,a.jsx)(Badge,{className:"".concat(B===e?"bg-black":"bg-transparent"," rounded-md border px-2.5 py-1 text-xs font-medium cursor-pointer ").concat(r?"max-w-fit":"max-w-[50%] line-clamp-1","  "),variant:B===e?"default":"outline",onClick:()=>I(e),title:e,children:e},t)})}),(0,a.jsx)("textarea",{className:"no-scrollbar mt-2 p-2 h-16 text-sm  rounded-lg border border-linen  focus:outline-none focus:border-linen resize-none",value:C,onChange:e=>{var t;(null===(t=e.target.value)||void 0===t?void 0:t.length)<=200?(S(e.target.value),E(null)):E("Additional feedback can not exceed 200 characters")},placeholder:"(Optional) Feel free to add specific details"}),F&&(0,a.jsx)("span",{className:"text-xs text-red-500",children:F})]}),(0,a.jsxs)("div",{className:"flex flex-row justify-end items-center gap-2 ",children:[(0,a.jsx)(i.z,{variant:"secondary",onClick:()=>{N(!1),S("")},children:"Cancel"}),(0,a.jsx)(i.z,{type:"submit",disabled:!!F,onClick:()=>{F||sendFeedback("dislike").then(()=>{N(!1)})},children:"Submit"})]})]})}),(null==g?void 0:g.feedback)&&(0,a.jsx)(a.Fragment,{children:p?"like"===m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.spm,{className:"text-gray-600 cursor-not-allowed ",title:"Like"}),(0,a.jsx)(s.VK,{className:"text-gray-400 hover:text-gray-800 cursor-not-allowed",title:"Dislike"})]}):"dislike"===m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.nM7,{className:"text-gray-400 hover:text-gray-800 cursor-not-allowed",title:"Like"}),(0,a.jsx)(s.bGJ,{className:"text-gray-600 cursor-not-allowed",title:"Dislike"})]}):null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.nM7,{className:"text-gray-400 cursor-pointer hover:text-gray-800",onClick:()=>sendFeedback("like"),title:"Like"}),(0,a.jsx)(s.VK,{className:"text-gray-400 cursor-pointer hover:text-gray-800",onClick:()=>{N(!0),S(""),I("")},title:"Dislike"})]})}),y?(0,a.jsx)(s.Zlo,{className:"text-gray-400  hover:text-gray-800",title:"Copy to clipboard"}):(0,a.jsx)(s.VD6,{className:"text-gray-400 cursor-pointer hover:text-gray-800",onClick:()=>{navigator.clipboard.writeText(r).then(()=>{w(!0),setTimeout(()=>w(!1),3e3)}).catch(e=>console.error("Copy failed:",e))},title:"Copy to clipboard"})]})}},3611:function(e,t,r){r.d(t,{z:function(){return d}});var a=r(7437),n=r(2265),o=r(7256),s=r(6061),l=r(1628);let i=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark1:ring-offset-slate-950 dark1:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark1:bg-slate-50 dark1:text-slate-900 dark1:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark1:bg-red-900 dark1:text-slate-50 dark1:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark1:border-slate-800 dark1:bg-slate-950 dark1:hover:bg-slate-800 dark1:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark1:bg-slate-800 dark1:text-slate-50 dark1:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark1:hover:bg-slate-800 dark1:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark1:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,t)=>{let{className:r,variant:n,size:s,asChild:d=!1,...c}=e,u=d?o.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:n,size:s,className:r})),ref:t,...c})});d.displayName="Button"},2031:function(e,t,r){r.d(t,{$N:function(){return h},Be:function(){return f},Vq:function(){return i},cZ:function(){return u}});var a=r(7437),n=r(2265),o=r(1704),s=r(496),l=r(1628);let i=o.fC;o.xz;let d=o.h_;o.x8;let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});c.displayName=o.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:r,children:n,...i}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(o.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark1:border-slate-800 dark1:bg-slate-950",r),...i,children:[n,(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark1:ring-offset-slate-950 dark1:focus:ring-slate-300 dark1:data-[state=open]:bg-slate-800 dark1:data-[state=open]:text-slate-400",children:[(0,a.jsx)(s.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=o.VY.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",r),...n})});h.displayName=o.Dx.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(o.dk,{ref:t,className:(0,l.cn)("text-sm text-slate-500 dark1:text-slate-400",r),...n})});f.displayName=o.dk.displayName},6354:function(e,t,r){r.d(t,{O1:function(){return randomString},YI:function(){return getBrowserFingerprint},fm:function(){return capitalizeFirstLetter},ns:function(){return cleanResponse},tp:function(){return isValidJSON},uu:function(){return getOrCreateUserId}}),r(1114),r(7133).Buffer;let randomString=e=>{let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-._~",r="";for(let a=e;a>0;--a)r+=t[Math.floor(Math.random()*t.length)];return r},capitalizeFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1),cleanResponse=e=>e.replace(/<[^>]*>/g,"").trim();function isValidJSON(e){try{return JSON.parse(e),!0}catch(e){return!1}}function generateFingerprint(){let e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw Error("Unable to get canvas context.");t.textBaseline="top",t.font="16px Arial",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText("Hello, World!",2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText("Hello, World!",4,17);let r=e.toDataURL();return hashString(r)}function hashString(e){let t=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);t=(t<<5)-t+a|0}return t.toString()}function getOrCreateUserId(){let e=localStorage.getItem("userId");return e||(e=generateFingerprint(),localStorage.setItem("userId",e)),e}let getWebGLRenderer=()=>{let e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");if(t){let e=t.getExtension("WEBGL_debug_renderer_info");return e?t.getParameter(e.UNMASKED_RENDERER_WEBGL)||"unknown":t.getParameter(t.RENDERER)||"unknown"}return"unknown"},getBrowserFingerprint=async()=>{let e={userAgent:navigator.userAgent,language:navigator.language,screenResolution:"".concat(window.screen.width,"x").concat(window.screen.height),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,hardwareConcurrency:navigator.hardwareConcurrency,deviceMemory:navigator.deviceMemory||"unknown",webglRenderer:getWebGLRenderer(),platform:navigator.platform},t=Object.values(e).join("|");return await hashString1(t)};async function hashString1(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(e=>e.toString(16).padStart(2,"0")).join("")}},1628:function(e,t,r){r.d(t,{cn:function(){return cn}});var a=r(7042),n=r(4769);function cn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},7700:function(e,t,r){r.r(t),r.d(t,{createChatSession:function(){return createChatSession},deleteChatSession:function(){return deleteChatSession},saveChatSessions:function(){return saveChatSessions},setSelectedChatSession:function(){return setSelectedChatSession},store:function(){return s},updateAssistant:function(){return updateAssistant},updateChatSession:function(){return updateChatSession},updateFeedback:function(){return updateFeedback},updateProvider:function(){return updateProvider}});var a=r(7437),n=r(4026),o=r(7350);let s={provider:null,assistant:null,savedChatSessions:null,selectedChatSession:null,feedbacks:null};(0,n.MT)(s);let updateFeedback=(e,t)=>{var r;let a=null===(r=e.feedbacks)||void 0===r?void 0:r.findIndex(e=>e.chatContentId===t.chatContentId);if(-1!==a&&void 0!==a)return{...e};{let r=e.feedbacks||[];return null==r||r.push(t),{...e,feedbacks:r}}},updateProvider=(e,t)=>({...e,provider:t}),updateAssistant=(e,t)=>({...e,assistant:t}),setSelectedChatSession=(e,t)=>({...e,selectedChatSession:t}),createChatSession=(e,t)=>{let r={domainId:t.domainId,_id:(null==t?void 0:t._id)||(0,o.x0)(),title:t.title||"Untitled",messages:t.messages||[]},a=null==e?void 0:e.savedChatSessions;return a?a.push(r):a=[r],{...e,savedChatSessions:a,selectedChatSession:r}},deleteChatSession=(e,t)=>{var r;return{...e,savedChatSessions:null==e?void 0:null===(r=e.savedChatSessions)||void 0===r?void 0:r.filter(e=>e._id!==t)}},updateChatSession=(e,t)=>{var r,a,n,o;let s=null===(r=e.savedChatSessions)||void 0===r?void 0:r.findIndex(e=>e._id===t.id);if(void 0!==s&&-1!==s&&e.savedChatSessions){let r=[...e.savedChatSessions],l={_id:t.id,domainId:null===(a=r[s])||void 0===a?void 0:a.domainId,title:(null==t?void 0:t.title)||(null===(n=r[s])||void 0===n?void 0:n.title),messages:t.messages||(null===(o=r[s])||void 0===o?void 0:o.messages)};return r[s]=l,{...e,savedChatSessions:r,selectedChatSession:l}}return{...e}},saveChatSessions=(e,t)=>({...e,savedChatSessions:t});t.default=e=>{let{children:t}=e;return(0,a.jsx)(n.hc,{children:t})}}}]);