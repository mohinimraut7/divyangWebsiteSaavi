(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3028:function(e,t,a){Promise.resolve().then(a.t.bind(a,2853,23)),Promise.resolve().then(a.bind(a,2480)),Promise.resolve().then(a.t.bind(a,2933,23)),Promise.resolve().then(a.bind(a,4520)),Promise.resolve().then(a.bind(a,7700))},3164:function(e,t,a){"use strict";a.d(t,{h:function(){return ButtonGroup},o:function(){return CustomButton}});var n=a(7437),s=a(2265);let CustomButton=e=>{let{onClick:t,type:a,className:o,title:l,languageBtn:i,isLargeBtn:r,isSmallBtn:d,iconBtn:c,roundedIconBtn:u,icon:h,children:v,blockBtn:m,btnWithLink:x,link:f,iconSize:g,isLeftIcon:p,isOutlineBtn:b,isGhostBtn:y,btnType:C,redBtn:w,yellowBtn:j,secondaryBtn:S,darkBtn:N,iconClass:k,disabled:I,isPill:B,isBadge:_,isReactIcon:L,whiteBtn:A,successBtn:z}=e;return(0,n.jsxs)("button",{type:a,disabled:I||!1,onClick:t,className:(y&&c&&v||c&&v&&L?" flex items-center ":"")+(r?"px-8 py-3 text-lg ":d?"px-2 py-2 text-sm ":"px-5 py-2 text-base ")+(u&&r?" rounded-full w-9 h-9 !px-0 !py-0 ":u&&d?" rounded-full w-5 h-5 !px-0 !py-0 ":u?" rounded-full w-7 h-7 !px-0 !py-0 ":" rounded ")+(B&&" rounded-full py-1 ")+(_?" leading-none ":" font-heading ")+(i&&"relative bg-transparent px-0 text-xs text-primary-900 z-0 transition ease-in-out leading-none focus:font-bold hover:bg-transparent active:font-bold before:hidden before:content-[''] before:bg-yellow-600 before:w-4/5 before:h-4/5 before:absolute before:-left-1 before:top-1 before:-z-1 hover:before:block active:before:block focus:before:block ")+(b?" border border-solid !bg-transparent ".concat(w||"redBtn"===C?" text-red-800 hover:text-red-900 border-red-800 hover:border-red-900 ":j||"yellowBtn"===C?" text-yellow-700 hover:text-yellow-600 border-yellow-700 hover:border-yellow-600 ":S||"secondaryBtn"===C?" text-linen border-linen hover:text-deep-earthy-brown hover:border-deep-earthy-brown ":z||"successBtn"===C?" text-teal-800 hover:text-teal-900 border-teal-800 hover:border-teal-900 ":N||"darkBtn"===C?" text-deep-earthy-brown hover:text-black border-deep-earthy-brown hover:border-black ":A||"whiteBtn"===C?" text-linen hover:text-white border-linen hover:border-white ":" border-primary-900 text-primary-900 hover:text-primary-800 hover:border-primary-800 "):y?" border-0 !bg-none bg-transparent !p-0 ".concat(w||"redBtn"===C?" text-red-800 hover:text-red-900 ":j||"yellowBtn"===C?" text-yellow-800 hover:text-yellow-600 ":S||"secondaryBtn"===C?" text-linen hover:text-deep-earthy-brown ":z||"successBtn"===C?" text-teal-800 hover:text-teal-900 ":N||"darkBtn"===C?" text-deep-earthy-brown hover:text-black ":A||"whiteBtn"===C?" text-linen hover:text-white ":"  !bg-none text-primary-900 hover:text-underline "):w||"redBtn"===C?" from-red-700 to-red-800 bg-gradient-to-tr text-white hover:from-red-800 hover:to-red-900":j||"yellowBtn"===C?" from-yellow-500 to-yellow-600 text-white hover:from-yellow-600 hover:to-yellow-700 bg-gradient-to-tr ":S||"secondaryBtn"===C?" bg-linen text-deep-earthy-brown hover:bg-khadi ":z||"successBtn"===C?" from-teal-700 to-teal-800 bg-gradient-to-tr text-white hover:from-teal-800 hover:to-teal-900 ":N||"darkBtn"===C?" bg-deep-earthy-brown text-white hover:bg-black ":A||"whiteBtn"===C?" bg-white border-solid border border-deep-earthy-brown text-deep-earthy-brown hover:border-black hover:shadow ":" bg-primary-900 text-white hover:bg-primary-800 ")+(m?" w-full block ":" ")+" transition ease-in-out font-medium leading-none ".concat(o||""," \n                ").concat(I&&"opacity-70 !cursor-not-allowed"," "),title:l||"",children:[p&&(u||c)&&(0,n.jsx)(n.Fragment,{children:s.createElement(h,{className:"mr-2  ".concat(k||" w-6 h-6 "),size:"".concat(g)})}),v,!p&&(u||c)&&(0,n.jsx)(n.Fragment,{children:s.createElement(h,{className:"ml-2  ".concat(k||" w-6 h-6 "),size:"".concat(g)})})]})},ButtonGroup=e=>{let{className:t,children:a,withGap:s,gap:o}=e;return(0,n.jsx)("div",{className:"flex\n            ".concat(s&&o?" gap-".concat(o," "):s&&!o?" gap-1 ":s?"":" buttonGroup ","\n            ").concat(t||""," "),children:a})}},8311:function(e,t,a){"use strict";a.d(t,{JX:function(){return Col},W2:function(){return Container},kC:function(){return Flex}});var n=a(7437);let Container=e=>{let{landingContainer:t,containerFluid:a,className:s,children:o}=e;return(0,n.jsx)("div",{className:(a?"container px-2 mx-auto ":t?"container lg:max-w-[82%] mx-auto px-4 lg:px-0 ":"container lg:max-w-4xl mx-auto px-4 lg:px-0 ")+" ".concat(s||""),children:o})},Flex=e=>{let{className:t,children:a,isFlexOnResponsive:s,space:o}=e;return(0,n.jsx)("div",{className:(s?" flex items-center ":" grid grid-cols-1 md:flex flex-wrap ")+(o?" gap-".concat(o," "):" gap-4 ")+" justify-between items-center ".concat(t||""),children:a})},Col=e=>{let{children:t,className:a,forwardRef:s}=e;return(0,n.jsx)("div",{className:"".concat(a||" flex-1 "),ref:s,children:t})}},4741:function(e,t,a){"use strict";a.r(t),a.d(t,{CustomImage:function(){return CustomImage}});var n=a(7437),s=a(2265),o=a(6691),l=a.n(o);let CustomImage=e=>{let{alt:t,title:a,src:o,className:i,style:r,height:d,width:c,layout:u,objectFit:h,fill:v,fallBackUrl:m}=e,[x,f]=(0,s.useState)(o);return(0,s.useEffect)(()=>{f(o)},[o]),(0,n.jsx)(l(),{className:"border-0 ".concat(i||""),src:x,alt:t,width:c,height:d,title:a,style:r||{},layout:u,fill:v,onError:()=>{f("/images/placeholder.png")},objectFit:h})}},1064:function(e,t,a){"use strict";var n=a(7437);a(2265),t.Z=e=>{let{className:t}=e;return(0,n.jsx)("div",{className:"rounded-full border-2 border-solid animate-spin border-t-2 border-t-secondary-900 border-linen h-6 w-6 ".concat(t||"")})}},1782:function(e,t,a){"use strict";var n=a(7437),s=a(2265),o=a(3164),l=a(8910),i=a(1064),r=a(1133);t.Z=e=>{let{children:t,isOpen:a,handleCloseModal:d,onCancel:c=()=>{},onSubmit:u,title:h,icon:v,footerButtons:m,showCloseIcon:x,handleTopCloseIcon:f,hideSubmitBtn:g,hideCancelBtn:p,iconClass:b,submitBtnText:y,cancelBtnText:C,submitBtnType:w,cancelBtnType:j,submitBtnVariant:S,disableSubmitBtn:N,disableCancelBtn:k}=e,[I,B]=(0,s.useState)(!1),handleClose=()=>{var e,t;null===(t=document)||void 0===t||null===(e=t.body)||void 0===e||e.classList.remove("overflow-hidden"),d()};return(0,r.Z)(a),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:" h-screen w-screen bg-black/20 fixed top-0 left-0 z-[50] ".concat(a?"opacity-100 ":"opacity-0 hidden"," transform transition-all ease-in-out  "),children:(0,n.jsx)("div",{className:" flex flex-col items-center justify-center h-full",children:(0,n.jsxs)("div",{className:" relative bg-white  rounded-lg shadow w-[90%] md:w-auto md:max-w-[60%] lg:min-w-[30%] max-h-[80vh]  ",onClick:e=>e.stopPropagation(),children:[(h||x)&&(0,n.jsx)("div",{className:"absolute top-0 w-full",children:(0,n.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex flex-1 rounded-t-lg ".concat(h?"items-center justify-between":"items-center justify-end"," "),children:[h&&(0,n.jsx)("h2",{className:"  font-heading font-semibold",children:h}),x&&(0,n.jsx)(l.FU5,{size:20,className:"cursor-pointer",onClick:f})]})}),(0,n.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,n.jsxs)("div",{className:"p-6 mt-6 text-center",children:[v?s.createElement(v,{className:"mx-auto w-10 h-10 mb-3  ".concat(b||" text-cyan-800  ")}):null,(0,n.jsx)("h3",{className:" font-normal text-gray-800 ",children:t})]}),(!p||!g)&&(0,n.jsx)("div",{className:"bg-gray-100 border-0  p-4 flex justify-center rounded-b-lg",children:m||(0,n.jsxs)(o.h,{withGap:!0,gap:"2",className:(g||p?" justify-center":" justify-between")+" w-full",children:[!p&&(0,n.jsx)(o.o,{disabled:k,whiteBtn:!0,type:j||"button",className:g?"flex-none":"flex-1",onClick:()=>{handleClose(),c()},children:C||"No"}),!g&&(0,n.jsxs)(o.o,{disabled:N,onClick:()=>{u()},type:w||"button",btnType:S,className:p?"flex-none":"flex-1",darkBtn:!0,children:[y||"Yes",I&&(0,n.jsx)(i.Z,{})]})]})})]})]})})})})}},2480:function(e,t,a){"use strict";a.r(t),a.d(t,{Layout:function(){return Layout},default:function(){return N},siteTitle:function(){return S}});var n=a(7437),s=a(2265),o=a(3164),Layout_Footer=()=>(0,n.jsx)("footer",{className:"block w-full  absolute bottom-0 relative before:absolute before:left-0 before:bg-transparent before:bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl before:shadow-[0_0_0px_-50px_rgba(0,0,0,0.3)] before:shadow--primary-900 ",children:(0,n.jsxs)("div",{className:"mt-2 px-5 text-white text-xs text-center pb-3",children:[(0,n.jsxs)("span",{className:"block mb-1 text-xs text-gray-500 leading-none",children:["v-","1.0.34"]}),(0,n.jsxs)("span",{className:"block mb-1 text-xs text-gray-500 leading-none",children:["Copyright \xa9 ",new Date().getFullYear()," ",(0,n.jsx)("a",{href:"".concat("https://aistore.myscheme.in"),className:"text-gray-500 hover:underline py-1",children:"GovAI"})]})]})}),l=a(6820),i=a(8311),r=a(4741),d=a(4026),c=a(4033),u=a(4769);let Logo=e=>{let{big:t,withBorder:a,className:s,isWhiteLogo:o,appName:l,customLogo:h}=e;(0,c.usePathname)();let{state:v}=(0,d.j_)();return t?(0,n.jsxs)(i.kC,{isFlexOnResponsive:!0,className:(0,u.m6)("!justify-start items-end mb-6 w-full h-full !gap-2",s),children:[(0,n.jsx)("div",{className:"flex-none relative h-[2rem] max-w-[100px]",children:h?(0,n.jsx)(r.CustomImage,{src:h,alt:"MyScheme Chat",title:"MyScheme Chat",fill:!0,objectFit:"contain"}):(0,n.jsx)(r.CustomImage,{src:o?"/images/logo-white.svg":"/images/logo.svg",alt:"MyScheme Chat",title:"MyScheme Chat",objectFit:"contain",fill:!0})}),(0,n.jsx)("div",{className:"flex-none ",children:(0,n.jsx)("p",{className:"bg-secondary-200 text-sm text-secondary-medium px-2 py-1 font-medium font-heading leading-tight rounded",children:l||"Chat"})})]}):(0,n.jsxs)("div",{className:"flex  whitespace-nowrap mt-1 gap-2 ".concat("items-center"," ").concat(a&&" border-0 md:border-b border-solid border-linen  "),children:[(0,n.jsx)(n.Fragment,{children:h?(0,n.jsx)("div",{className:" relative overflow-hidden max-h-[35px] max-w-[100px] flex items-center justify-center",children:(0,n.jsx)(r.CustomImage,{src:h,className:" mx-auto my-auto object-contain",alt:"GovAI Chat",title:"GovAI Chat",layout:"responsive",width:128,height:32})}):(0,n.jsx)("div",{className:"relative overflow-hidden max-h-[35px] max-w-[100px] flex items-center justify-center ",children:(0,n.jsx)(r.CustomImage,{src:o?"/images/logo-white.svg":"/images/logo.svg",className:"mx-auto my-auto object-contain",alt:"GovAI Chat",title:"GovAI Chat",layout:"responsive",objectFit:"contain",width:128,height:32})})}),(0,n.jsxs)("div",{className:"flex flex-row justify-start items-start gap-1 line-clamp-1",children:[(0,n.jsx)("span",{className:"font-medium text-sm sm:text-base",children:l}),(0,n.jsx)("span",{className:"bg-secondary-200 text-xs text-secondary-medium px-1 py-1 font-medium font-heading rounded ",children:(null==v?void 0:v.assistant)?"Chat":"Store"})]})]})};var h=a(1396),v=a.n(h),m=a(8910),x=a(3498),f=a(7700),g=a(3159),p=a(8920),b=a(1421),chat_ChatHistoryList=e=>{var t;let{title:a,session:l}=e,[i,r]=(0,s.useState)(!1),[u,h]=(0,s.useState)(!1),[v,x]=(0,s.useState)(a),{actions:y}=(0,d.j_)({setSelectedChatSession:f.setSelectedChatSession,updateChatSession:f.updateChatSession}),{getChatSessionData:C,deleteChatSessionData:w,updateSessionTitle:j}=(0,b.Z)();(0,c.useRouter)();let{state:S}=(0,d.j_)(),handleDelete=async()=>{if(l&&S.assistant){var e;await w(null==l?void 0:l._id,null===(e=S.assistant)||void 0===e?void 0:e.domainId),r(!1)}},handleInputBlur=async()=>{u&&l&&(await j(null==l?void 0:l._id,v),h(!1))},handleOnClick=async()=>{if(l&&S.assistant){var e;await C(null==l?void 0:l._id,null===(e=S.assistant)||void 0===e?void 0:e.domainId)}};return(0,n.jsxs)("div",{className:"flex justify-between items-center px-2 md:px-5 hover:bg-gray-100 rounded-md py-2 ".concat(l._id===(null===(t=S.selectedChatSession)||void 0===t?void 0:t._id)?"bg-gray-100":""),children:[(0,n.jsx)("div",{className:"w-[90%]",children:u?(0,n.jsx)("input",{type:"text",value:v,onChange:e=>x(e.target.value),onBlur:handleInputBlur,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),handleInputBlur())},autoFocus:!0,className:"px-2 py-1 text-sm"}):(0,n.jsx)("div",{title:v,className:"text-sm  line-clamp-1 cursor-pointer",onClick:handleOnClick,children:v})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("button",{className:"menu-button",onClick:()=>{r(!i)},children:(0,n.jsx)(g.EAB,{})}),i&&(0,n.jsxs)("div",{className:"z-50 absolute right-0 mt-2 w-48  bg-gray-100 shadow-lg rounded px-2 py-2",children:[(0,n.jsx)(o.o,{isSmallBtn:!0,isGhostBtn:!0,isLeftIcon:!0,icon:p.vPQ,iconBtn:!0,className:"block w-full !py-2 hover:bg-gray-200",onClick:()=>{r(!1),h(!0)},children:"Rename"}),(0,n.jsx)(o.o,{isSmallBtn:!0,isGhostBtn:!0,isLeftIcon:!0,icon:m.ZkW,iconBtn:!0,className:"block w-full !py-2 hover:bg-gray-200",onClick:handleDelete,children:"Delete"})]})]})]})},y=a(6468);let MenuItem=e=>{let{icon:t,children:a,className:s=""}=e;return(0,n.jsxs)("div",{className:"flex fle-row items-center justify-start gap-2 hover:bg-gray-100 w-full px-2 md:px-5 rounded-md ".concat(s),children:[(0,n.jsx)("div",{className:"flex h-7 w-7 justify-center items-center rounded-full bg-black text-white",children:t}),a]})};var chat_ChatHistory=e=>{var t,a;let{state:s}=(0,d.j_)(),{actions:o}=(0,d.j_)({createChatSession:f.createChatSession}),l=(0,c.useRouter)(),{createNewChatSession:i}=(0,b.Z)();return(0,n.jsxs)("div",{className:"w-full",children:[(null==s?void 0:s.assistant)&&(null==s?void 0:s.savedChatSessions)&&(null==s?void 0:s.savedChatSessions.length)>0&&(0,n.jsx)(n.Fragment,{children:null==s?void 0:null===(t=s.savedChatSessions)||void 0===t?void 0:t.filter(e=>{var t;return e.domainId===(null==s?void 0:null===(t=s.assistant)||void 0===t?void 0:t.domainId)}).map((e,t)=>(0,n.jsx)(chat_ChatHistoryList,{title:null==e?void 0:e.title,session:e},t))}),(null==s?void 0:s.assistant)&&(null==s?void 0:null===(a=s.assistant)||void 0===a?void 0:a.saveHistory)&&(0,n.jsx)(MenuItem,{icon:(0,n.jsx)(y.xcL,{size:20}),className:"mt-4",children:(0,n.jsx)("span",{className:"text-sm cursor-pointer",onClick:()=>{var e,t,a,n,o;(null==s?void 0:null===(e=s.assistant)||void 0===e?void 0:e.domainId)&&((null==s?void 0:null===(t=s.assistant)||void 0===t?void 0:t.saveHistory)?(i({domainId:null==s?void 0:null===(a=s.assistant)||void 0===a?void 0:a.domainId}),l.push("/".concat(null==s?void 0:null===(n=s.assistant)||void 0===n?void 0:n.domainId))):l.push("/".concat(null==s?void 0:null===(o=s.assistant)||void 0===o?void 0:o.domainId)))},children:"New Conversation"})})]})};let Sidebar_MenuItem=e=>{let{icon:t,children:a}=e;return(0,n.jsxs)("div",{className:"flex fle-row items-center justify-start gap-2 hover:bg-gray-100 w-full px-2 md:px-5 rounded-md",children:[(0,n.jsx)("div",{className:"flex h-7 w-7 justify-center items-center rounded-full bg-black text-white",children:t}),a]})};function Sidebar(e){var t,a,s,i,r,c;let{handleNav:u,showNav:h,isMyScheme:f=!1}=e,{state:g}=(0,d.j_)(),{decodedToken:p,setShowLogoutConfirmation:b}=(0,x.aC)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("nav",{className:"left-0 border-r fixed overflow-x-hidden overflow-y-auto flex flex-col bg-gray-50 flex-nowrap items-center justify-start w-72 z-[14]   h-screen transform transition duration-300 ease-in  "+(h?" translate-x-0 ":" -translate-x-72 "),children:[(0,n.jsx)("div",{className:"hidden md:flex w-full rounded-br-3xl px-2 md:px-5 pt-1 md:pt-4 relative before:absolute before:left-0 before:bg-transparent before:-bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl  ",children:(0,n.jsx)(Logo,{customLogo:f?"/images/myScheme-logo.svg":(null==g?void 0:null===(t=g.provider)||void 0===t?void 0:t.logoIcon)||(null==g?void 0:null===(a=g.assistant)||void 0===a?void 0:a.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==g?void 0:null===(s=g.assistant)||void 0===s?void 0:s.logo)})}),(0,n.jsxs)("div",{className:"h-full w-full z-30 flex-1 overflow-y-auto flex justify-between flex-col",children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("div",{className:"md:w-full md:hidden block",children:(0,n.jsxs)("div",{className:"flex justify-between flex-1 rounded-br-3xl px-2 pt-4 relative before:absolute before:left-0 before:bg-transparent before:-bottom-[100px] before:h-[100px] before:w-[50px] before:rounded-tl-3xl  ",children:[(0,n.jsx)(v(),{href:"/",onClick:u,children:(0,n.jsx)(Logo,{customLogo:f?"/images/myScheme-logo.svg":(null==g?void 0:null===(i=g.provider)||void 0===i?void 0:i.logoIcon)||(null==g?void 0:null===(r=g.assistant)||void 0===r?void 0:r.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==g?void 0:null===(c=g.assistant)||void 0===c?void 0:c.logo)})}),(0,n.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,className:"!p-0",iconSize:"xl",icon:l.czh,whiteBtn:!0,iconClass:"text-right w-6 h-6 !ml-0 !text-gray-500",isReactIcon:!0,onClick:u})]})}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-4 mt-4",children:[(0,n.jsx)(Sidebar_MenuItem,{icon:(0,n.jsx)(m.JZ9,{size:15}),children:(0,n.jsx)(v(),{href:"/",className:"text-sm",onClick:u,children:"Explore Assistants"})}),(0,n.jsx)(chat_ChatHistory,{})]})]}),(0,n.jsx)("div",{className:"flex flex-col gap-4 mb-4",children:p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Sidebar_MenuItem,{icon:(0,n.jsx)(m.J8I,{size:15}),children:(0,n.jsx)("span",{className:"text-sm line-clamp-1",title:null==p?void 0:p.name,children:null==p?void 0:p.name})}),(0,n.jsx)(Sidebar_MenuItem,{icon:(0,n.jsx)(m.lE7,{size:15}),children:(0,n.jsx)("span",{className:"text-sm cursor-pointer",onClick:()=>b(!0),children:"Logout"})})]})})]}),(0,n.jsx)(Layout_Footer,{})]})})}var C=a(311),w=a(9736),closeActionComponent=(e,t,a)=>{if(e)return window.addEventListener("mousedown",handleClick),()=>window.removeEventListener("mousedown",handleClick);function handleClick(e){a.current&&!a.current.contains(e.target)&&t(!1)}},j=a(1782);function Navbar(e){var t,a,r,u,h,v;let{bgColor:g,pageName:p,showNav:b,handleNav:y,isMyScheme:C=!1}=e;(0,c.useRouter)();let{login:S,loginStatus:N,logout:k,decodedToken:I,setShowLogoutConfirmation:B,showLogoutConfirmation:_}=(0,x.aC)(),[L,A]=(0,s.useState)(!1),{state:z}=(0,d.j_)(),{actions:E}=(0,d.j_)({createChatSession:f.createChatSession}),F=(0,c.useSearchParams)(),P=(0,s.useRef)(null);return(0,s.useEffect)(()=>{closeActionComponent(L,A,P)},[L,A,P]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{isOpen:_,iconClass:"text-red-600",icon:m.lE7,cancelBtnText:"Cancel",submitBtnText:"Logout",handleCloseModal:()=>B(!1),onSubmit:()=>{k(),B(!1)},children:(0,n.jsx)("p",{className:"",children:"Are you sure you want to sign out?"})}),(0,n.jsx)(i.kC,{isFlexOnResponsive:!0,className:"!justify-start bg-white !items-start w-full py-3 mb-2 ".concat((null==F?void 0:F.get("isEmbed"))?"px-2 ":"px-2 md:px-0"," sticky top-0 shadow-sm z-10"),children:(0,n.jsxs)("div",{className:"w-full md:max-w-3xl mx-auto flex flex-row justify-between",children:[(0,n.jsxs)(i.JX,{className:"flex justify-start items-center",children:[!(null==F?void 0:F.get("isEmbed"))&&(0,n.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,iconSize:"xl",className:"md:hidden flex-none text-left mr-1 ",icon:l.HjU,iconClass:"text-right w-6 h-6 !m-0",isReactIcon:!0,onClick:y}),b?(0,n.jsx)("div",{className:"",children:(0,n.jsx)(w.Z,{customLogo:C?"/images/myscheme-favicon.png":(null==z?void 0:null===(t=z.provider)||void 0===t?void 0:t.logoIcon)||(null==z?void 0:null===(a=z.assistant)||void 0===a?void 0:a.icon)&&"".concat("https://cdngovai.myscheme.in/").concat(null==z?void 0:null===(r=z.assistant)||void 0===r?void 0:r.icon)})}):(0,n.jsx)("div",{className:"flex flex-1 md:flex-none",children:(0,n.jsx)(Logo,{customLogo:C?"/images/myScheme-logo.svg":(null==z?void 0:null===(u=z.provider)||void 0===u?void 0:u.logoIcon)||(null==z?void 0:null===(h=z.assistant)||void 0===h?void 0:h.logo)&&"".concat("https://cdngovai.myscheme.in/").concat(null==z?void 0:null===(v=z.assistant)||void 0===v?void 0:v.logo)})})]}),!1]})})]})}let S="myScheme",Layout=e=>{let{children:t,pageName:a,breadCrumbRoutes:l,isMyScheme:i=!1}=e,[r,d]=(0,s.useState)(!1),[u,h]=(0,s.useState)({path:"dashboard",name:"Dashboard"}),[v,m]=(0,s.useState)(!1);(0,c.usePathname)();let handleNav=()=>{d(!r)},x=(0,c.useSearchParams)(),f=r?"  after:bg-black md:after:bg-transparent after:opacity-50 after:absolute after:top-0 after:left-0 after:w-full after:h-full after:z-[12] md:after:-z-[12] z-30":null;return(0,n.jsxs)("div",{className:"".concat(f),children:[(0,n.jsx)(Sidebar,{showNav:r,setShowNav:d,handleNav:handleNav,selectedTab:u,setSelectedTab:h,isLoading:v,setIsLoading:m,isMyScheme:i}),(0,n.jsxs)("div",{className:"flex flex-col relative h-screen duration-300 animate-fadeIn transition-all ease-in-out "+(r?" m-0 md:ml-72  ":" m-0 "),children:[!(null==x?void 0:x.get("isEmbed"))&&(0,n.jsx)("div",{className:"hidden md:block fixed top-1/2 -translate-y-1/2 ".concat(r?" md:z-10 ":"z-10"),children:(0,n.jsx)(o.o,{iconBtn:!0,isGhostBtn:!0,iconSize:"xl",className:"!p-0",icon:r?C.Lrt:C.h2L,iconClass:"w-6 h-6 !m-0",isReactIcon:!0,onClick:handleNav,title:r?"Close Sidebar ":"Open Sidebar"})}),(0,n.jsx)(Navbar,{showNav:r,handleNav:handleNav,isMyScheme:i}),(0,n.jsx)("div",{className:"relative px-2 sm:px-4 flex-1 max-h-[95vh] md:max-h-[95vh]",children:(0,n.jsx)("main",{className:"w-full h-full",children:t})})]})]})};var N=Layout},9736:function(e,t,a){"use strict";a.d(t,{Z:function(){return Layout_LogoIcon}});var n=a(7437),s=a(8311),o=a(4741);let CustomLink=e=>{let{isExternal:t,target:a,link:s,children:o,className:l,isNavLink:i,textTransform:r,onClick:d}=e;return(0,n.jsx)("a",{target:t?"_blank":a||"_self",className:(i&&" min-w-min px-2 text-blue-800 tracking-wide font-normal text-base hover:text-red-900 ")+" ".concat(l||" block "," ").concat("uppercase"===r?" uppercase ":"capitalize"===r?" capitalize ":"  "),href:s,rel:"noopener noreferrer",onClick:d||null,children:o})};var Layout_LogoIcon=e=>{let{big:t,customLogo:a}=e;return t?(0,n.jsx)(s.kC,{isFlexOnResponsive:!0,className:"!justify-center mb-6 w-full h-full !gap-1",children:(0,n.jsx)("div",{className:"flex-none relative",children:(0,n.jsx)(o.CustomImage,{src:a||"/images/logoIcon.svg",alt:"GovAI Logo",title:"GovAI Logo",width:141,height:100})})}):(0,n.jsx)("div",{className:"block",children:(0,n.jsx)(CustomLink,{className:"block relative h-[2.5rem] w-[2.5rem]",link:"/",children:(0,n.jsx)(o.CustomImage,{src:a||"/images/logoIcon.svg",layout:"fill",objectFit:"contain",alt:"GovAI Logo",title:"GovAI Logo"})})})}},3498:function(e,t,a){"use strict";a.d(t,{Vo:function(){return s},aC:function(){return useAuth}});var n=a(2265);let s=(0,n.createContext)({token:null,decodedToken:null,getSession:async()=>null,user:null,setUser:()=>{},loginStatus:"loading",setLoginStatus:()=>{},logout:()=>{},login:()=>{},showLogoutConfirmation:!1,setShowLogoutConfirmation:()=>{}});function useAuth(){return(0,n.useContext)(s)}},1421:function(e,t,a){"use strict";var n=a(3498),s=a(4829),o=a(4026),l=a(2265),i=a(7700),r=a(4033),d=a(7350),c=a(3014);t.Z=()=>{let[e,t]=(0,l.useState)(!1),{token:a,loginStatus:u}=(0,n.aC)(),{state:h}=(0,o.j_)(),{actions:v}=(0,o.j_)({createChatSession:i.createChatSession,saveChatSessions:i.saveChatSessions,setSelectedChatSession:i.setSelectedChatSession,deleteChatSession:i.deleteChatSession,updateChatSession:i.updateChatSession}),m=(0,r.useRouter)(),x=(0,r.useSearchParams)(),generateChatSessionID=async e=>{var n,o;let{domainId:l,title:i="Untitled"}=e;t(!0);let r=await s.Z.post("".concat("https://api.myscheme.gov.in/studio/v1/chat-history"),{domainId:l,title:i,messages:[]},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}});if(200!==r.status||(null===(n=r.data)||void 0===n?void 0:n.statusCode)!==200)return t(!1),{sessionId:null,error:r};{let e=null==r?void 0:null===(o=r.data)||void 0===o?void 0:o.data;return t(!1),v.createChatSession({domainId:null==e?void 0:e.domainId,_id:null==e?void 0:e._id}),{sessionId:null==e?void 0:e._id,error:null}}},createNewChatSession=async e=>{let{domainId:t,title:a="Untitled"}=e;if("loggedIn"===u){let e=await generateChatSessionID({domainId:t,title:a});await getSavedChats({domainId:t}),(null==e?void 0:e.sessionId)?x.get("isEmbed")?m.push("/".concat(t,"?sessionId=").concat(null==e?void 0:e.sessionId,"&isEmbed=true")):m.push("/".concat(t,"?sessionId=").concat(null==e?void 0:e.sessionId)):(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}else{let e=(0,d.x0)();v.createChatSession({domainId:t,_id:e})}},getSavedChats=async e=>{let{currentPage:t=1,limit:n=10,domainId:o}=e,l=encodeURIComponent(JSON.stringify({domainId:o}));return await s.Z.get("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","?page=").concat(t,"&limit=").concat(n,"&filters=").concat(l),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(e=>{var t,a,n,s,o;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.statusCode)===200&&(null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.results)&&v.saveChatSessions(null===(o=e.data)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.results.map(e=>({...e,messages:[]})))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})})},getChatSessionData=async(e,t)=>{if(!a){var n;let a=null==h?void 0:null===(n=h.savedChatSessions)||void 0===n?void 0:n.find(t=>(null==t?void 0:t._id)===e);return v.setSelectedChatSession(a),m.push("/".concat(t))}return s.Z.get("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(e=>{var t,a,n,s,o;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.statusCode)===200&&(null==e?void 0:null===(a=e.data)||void 0===a?void 0:a.data)&&(v.setSelectedChatSession(null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.data),m.push("/".concat(null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.domainId)))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})})},deleteChatSessionData=async(e,t)=>{var n,o;let l=(null===(n=h.savedChatSessions)||void 0===n?void 0:n.filter(t=>t._id!==e))||[];return a?s.Z.delete("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(async a=>{var n,s,o;(null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.statusCode)===200&&(null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.data)&&(v.deleteChatSession(e),(null==l?void 0:l.length)>0?await getChatSessionData(null===(o=l[0])||void 0===o?void 0:o._id,t):m.push("/"))}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}):(v.deleteChatSession(e),(null==l?void 0:l.length)>0)?await getChatSessionData(null===(o=l[0])||void 0===o?void 0:o._id,t):m.push("/")},addNewMessages=async(e,t)=>s.Z.patch("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{messages:t},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(t=>{var a,n,s;(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.statusCode)===200&&(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.data)&&v.updateChatSession({id:e,messages:null===(s=t.data.data)||void 0===s?void 0:s.messages})}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}),updateChatSessionMessages=async(e,t)=>{var a;if(!Array.isArray(t))throw Error("Messages should be an array");let n=(null===(a=h.selectedChatSession)||void 0===a?void 0:a.messages)||[],s=t.filter(e=>!n.some(t=>t.content===e.content&&t.role===e.role)),o=s.map(t=>addNewMessages(e,{content:t.content,role:t.role}));try{let e=await Promise.all(o);return e}catch(e){throw(0,c.Am)("Something went wrong with one or more updates! Please try again later",{theme:"dark"}),e}},updateSessionTitle=async(e,t)=>a?s.Z.patch("".concat("https://api.myscheme.gov.in/studio/v1/chat-history","/").concat(e),{title:t},{headers:{"x-api-key":"ICdhCnhQ4b8mnlvs2J4JV7BKdqQXL9cG62Xsc6UD",Authorization:"Bearer ".concat(a)}}).then(t=>{var a,n,s;(null==t?void 0:null===(a=t.data)||void 0===a?void 0:a.statusCode)===200&&(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.data)&&v.updateChatSession({id:e,title:null===(s=t.data.data)||void 0===s?void 0:s.title})}).catch(e=>{(0,c.Am)("Something went wrong! Please try again later",{theme:"dark"})}):v.updateChatSession({id:e,title:t});return{loading:e,createNewChatSession,getSavedChats,getChatSessionData,deleteChatSessionData,updateChatSessionMessages,updateSessionTitle}}},1133:function(e,t,a){"use strict";var n=a(2265);t.Z=e=>{(0,n.useEffect)(()=>{if(document){var t,a,n,s;e?null===(a=document)||void 0===a||null===(t=a.body)||void 0===t||t.classList.add("overflow-hidden"):null===(s=document)||void 0===s||null===(n=s.body)||void 0===n||n.classList.remove("overflow-hidden")}},[e])}},4520:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return AuthProvider}});var n=a(7437),s=a(2265),o=a(3498),l=a(4829),i=a(4033),r=a(3771);function AuthProvider(e){let{children:t,refreshTime:a=1e4}=e,[d,c]=(0,s.useState)(null),[u,h]=(0,s.useState)(null),[v,m]=(0,s.useState)(null),[x,f]=(0,s.useState)("loading"),[g,p]=(0,s.useState)(!1),b=(0,i.useRouter)(),y=(0,i.usePathname)(),getUserData=async()=>{v||f("loading");try{var e,t,a;let n=await l.Z.get("".concat("https://api.myscheme.gov.in/accounts/v1","/users/profile"),{headers:{Authorization:"Bearer ".concat(d),"x-api-key":"tYTy5eEhlu9rFjyxuCr7ra7ACp4dv1RH8gWuHTDc"}});(null===(e=n.data)||void 0===e?void 0:e.statusCode)===200?m(n.data.data):((null===(t=n.data)||void 0===t?void 0:t.statusCode)===401||(null===(a=n.data)||void 0===a?void 0:a.statusCode)===403)&&(f("loggedOut"),m(null),logout())}catch(e){f("loggedOut"),m(null)}},getToken=async()=>{try{var e;let t=await l.Z.get("".concat("https://aistore.myscheme.in","/api/auth/digilocker/session"));if(null===(e=t.data)||void 0===e?void 0:e.token)return c(t.data.token),h((0,r.o)(t.data.token)),f("loggedIn"),t.data.token;return c(null),m(null),h(null),f("loggedOut"),null}catch(e){return h(null),f("loggedOut"),c(null),null}},logout=()=>{b.push("/api/auth/digilocker/signout")},login=async e=>{let t="https://aistore.myscheme.in"+y,a="".concat("https://aistore.myscheme.in").concat(e);b.replace("/api/auth/digilocker/signin?callback=".concat(e?a:t))};return(0,s.useEffect)(()=>{let initialize=async()=>{await getToken()};initialize()},[]),(0,s.useEffect)(()=>{d&&getUserData()},[d]),(0,s.useEffect)(()=>{d&&getToken()},[y,d]),(0,n.jsx)(o.Vo.Provider,{value:{token:d,getSession:getToken,decodedToken:u,user:v,setUser:m,loginStatus:x,setLoginStatus:f,logout:logout,login:login,showLogoutConfirmation:g,setShowLogoutConfirmation:p},children:t})}},7700:function(e,t,a){"use strict";a.r(t),a.d(t,{createChatSession:function(){return createChatSession},deleteChatSession:function(){return deleteChatSession},saveChatSessions:function(){return saveChatSessions},setSelectedChatSession:function(){return setSelectedChatSession},store:function(){return l},updateAssistant:function(){return updateAssistant},updateChatSession:function(){return updateChatSession},updateFeedback:function(){return updateFeedback},updateProvider:function(){return updateProvider}});var n=a(7437),s=a(4026),o=a(7350);let l={provider:null,assistant:null,savedChatSessions:null,selectedChatSession:null,feedbacks:null};(0,s.MT)(l);let updateFeedback=(e,t)=>{var a;let n=null===(a=e.feedbacks)||void 0===a?void 0:a.findIndex(e=>e.chatContentId===t.chatContentId);if(-1!==n&&void 0!==n)return{...e};{let a=e.feedbacks||[];return null==a||a.push(t),{...e,feedbacks:a}}},updateProvider=(e,t)=>({...e,provider:t}),updateAssistant=(e,t)=>({...e,assistant:t}),setSelectedChatSession=(e,t)=>({...e,selectedChatSession:t}),createChatSession=(e,t)=>{let a={domainId:t.domainId,_id:(null==t?void 0:t._id)||(0,o.x0)(),title:t.title||"Untitled",messages:t.messages||[]},n=null==e?void 0:e.savedChatSessions;return n?n.push(a):n=[a],{...e,savedChatSessions:n,selectedChatSession:a}},deleteChatSession=(e,t)=>{var a;return{...e,savedChatSessions:null==e?void 0:null===(a=e.savedChatSessions)||void 0===a?void 0:a.filter(e=>e._id!==t)}},updateChatSession=(e,t)=>{var a,n,s,o;let l=null===(a=e.savedChatSessions)||void 0===a?void 0:a.findIndex(e=>e._id===t.id);if(void 0!==l&&-1!==l&&e.savedChatSessions){let a=[...e.savedChatSessions],i={_id:t.id,domainId:null===(n=a[l])||void 0===n?void 0:n.domainId,title:(null==t?void 0:t.title)||(null===(s=a[l])||void 0===s?void 0:s.title),messages:t.messages||(null===(o=a[l])||void 0===o?void 0:o.messages)};return a[l]=i,{...e,savedChatSessions:a,selectedChatSession:i}}return{...e}},saveChatSessions=(e,t)=>({...e,savedChatSessions:t});t.default=e=>{let{children:t}=e;return(0,n.jsx)(s.hc,{children:t})}},2853:function(){}},function(e){e.O(0,[420,582,190,787,115,603,998,769,396,685,971,472,744],function(){return e(e.s=3028)}),_N_E=e.O()}]);