"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21713,77984],{77984:(e,t,r)=>{r.r(t),r.d(t,{Copy:()=>o});var a=r(57460),n=r(52322),i=(0,r(96374).Z)((0,n.jsx)("path",{d:"M24 11.333V14h2.667v13.333H13.334v-2.667h-2.667v5.333h18.667V11.332zm-2.667-8H2.666V22h18.667V3.333zm-2.666 16H5.334V6h13.333v13.333z"}),"Copy.svg"),o=e=>(0,n.jsx)(i,(0,a._)({viewBox:"0 0 32 32"},e))},49270:(e,t,r)=>{r.d(t,{e:()=>i});var a=r(57460),n=r(38398),i=e=>{var{urlParams:t={},queryParams:r={}}=e,i="/bundle/".concat(t.filename),o=(0,a._)({},r);return{url:i,defaultParams:o,formattedUrl:(0,n.format)({pathname:i,query:o})}}},35936:(e,t,r)=>{r.d(t,{V:()=>L});var a=r(81862),n=r(57460),i=r(64270),o=r(85594),l=r(83050),s=r(97115),d=r(2500),u=r(64372),c=r(31125),v=r(49956),m=r(9778),p=r(1150),f=r(30095),h=r(57639),_=r(99319),g=r(30097),y=r(34448),w=r(94671),S=r(73637),b=r(35409),I=r(3383),k=r(2370),C=r(79756),z=r(64528),x=r(2784),T=r(3255),A=r(30612),O=e=>{var{queryParams:t}=e;return(0,m.nS)({queryParams:t}).formattedUrl},U=e=>{var{assetId:t,asset:{id:r,tier:a=10,src:n,aspect:i,width:o,height:l}}=e;return{metadata:{notes:{media_id:t,alpha_num_id:r,rex_id:r,media_type:f.gP,tier:a,media:{aspect:i,width:o,height:l,url:n}}}}},j=function(){var e=(0,a._)(function*(e){var t,{isRexEditorial:r,collectionId:a,verificationCode:n,setAsCover:i,firstAsset:o,collectionType:l}=e,s=(0,d.A8)(o);if(s===f.VT){var u=(0,m.Yz)({queryParams:{id:a,verificationCode:n,collectionType:l}}).formattedUrl,c=yield C.uS.get(u).then(e=>(0,z.O)(e.data)||{});if(!(null==c?void 0:null===(t=c.coverItem)||void 0===t?void 0:t.id)){var v=(0,d.OP)({asset:o,isRexEditorial:r}),p=(0,w.Q)({collectionId:a,mappedAssetType:s,assetId:v});yield i({collection:{id:a},mediaItem:{id:p}})}}});return function(t){return e.apply(this,arguments)}}(),N=()=>{var[e,t]=(0,x.useState)({status:"",error:void 0}),[r,i]=(0,x.useState)(""),[o,l]=(0,x.useState)(""),s=(0,b.J)(),{setAsCover:u}=(0,A.w)(),{isBrandSstk:c}=(0,I.D)(),{analytics:v}=(0,k.yh)(),z=(0,g.UM)(v),{mutate:N}=(0,T.kY)();return{add:(0,x.useCallback)(function(){var e=(0,a._)(function*(e){var{assets:r,assetType:a,gridItems:o,groupedOptions:v,id:g,title:b,verificationCode:I,pageSection:k,listId:x}=e,T=(0,y.wZ)({assetType:a,isBrandSstk:c});try{t({status:p.MR,error:void 0});var A=(0,d.Xo)(a),D=g,P=I;if(v&&v.length){var F=v.find(e=>{var{title:t}=e;return t===b});F&&(D=F.id,P=F.verificationCode)}if(!D){var M=(0,m.A6)().formattedUrl,E={data:{attributes:{title:b,collectionType:T,isPublic:!1},type:h.Ul}},{data:{id:J,attributes:{verificationCode:R}}}=yield C.uS.post(M,E);D=J,P=R}var V={data:r.map(e=>{var t=(0,d.OP)({asset:e,isRexEditorial:A}),r=(0,d.A8)(e);return(0,n._)({type:h.A8,id:(0,w.Q)({collectionId:D,mappedAssetType:r,assetId:t})},r===f.VT&&U({assetId:t,asset:e}))})},q=(0,m.mp)({urlParams:{id:D},queryParams:{isRexEditorial:A}}).formattedUrl,B=(0,S.y)(z);yield C.uS.post(q,V,B?{headers:{[_.as]:B}}:void 0);var Z=r[0];yield j({isRexEditorial:A,collectionId:D,verificationCode:P,setAsCover:u,firstAsset:Z,collectionType:T}),s({collectionId:D,collectionName:b,gridItems:o,assets:r,pageSection:k,listId:x}),i(D),l(P)}catch(e){t({status:p.cM,error:e})}finally{yield N(O({queryParams:{"filter[type]":T}}))}});return function(t){return e.apply(this,arguments)}}(),[c,z,u,s,N]),collectionId:r,setStatus:t,status:e,verificationCode:o}},D=r(46814),P=r(58435),F=r(52322),M=r(65764),E=r(35671),J=r(25237),R=r.n(J),V=r(2281),q=R()(()=>Promise.all([r.e(3764),r.e(20614),r.e(40991),r.e(79655),r.e(25353),r.e(9046),r.e(27295)]).then(r.bind(r,16551)).then(e=>({default:e.CollectionModal})),{loadableGenerated:{webpack:()=>[16551]},ssr:!1}),B=e=>{var{isOpen:t}=e,r=(0,V._)(e,["isOpen"]);return(0,E.B)(t)&&(0,F.jsx)(q,(0,n._)({isOpen:t},r))},Z=R()(()=>Promise.all([r.e(3764),r.e(20614),r.e(13157),r.e(30097),r.e(17078),r.e(77242)]).then(r.bind(r,48384)).then(e=>({default:e.SaveSnackbarOrModal})),{loadableGenerated:{webpack:()=>[48384]},ssr:!1}),X=R()(()=>r.e(37667).then(r.bind(r,37667)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[37667]},ssr:!1}),Y=e=>{var{assets:t,assetType:r="",collectionId:a,collectionTitle:n,gridItems:i=null,isDialogActive:o,isSnackBarOpen:s,onAddToCollections:d,onAlertSnackbarClose:u,onAddToCollectionsComplete:c,redirectToCDPAction:v={},setIsDialogActive:m,showCopyToModalTitle:p,status:f,verificationCode:h,pageSection:_,isMoveTo:g}=e,y=(0,M.f)(),w=(0,E.B)(t),S=(0,x.useCallback)(()=>m(!1),[m]),{folders:b}=(0,l.c)();return w?!y&&o?b&&(0,F.jsx)(Z,{onClose:S,setIsDialogActive:m,isOpen:o,items:t,onAddToCollectionsComplete:c,pageSection:_,isMoveTo:g}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(B,{assets:t,assetType:r,collectionId:a,gridItems:i,isOpen:o,onAddToCollections:d,setIsDialogActive:m,showCopyToModalTitle:p,pageSection:_,isMoveTo:g}),(0,F.jsx)(X,{assetType:r,collectionId:a,collectionTitle:n,isOpen:s,onAlertSnackbarClose:u,redirectToCDPAction:v,status:f,verificationCode:h})]}):null},K=e=>[].concat(e),L=e=>{var{initialAssetType:t}=e,r=(0,o.r)(),[m,p]=(0,x.useState)(!1),[f,h]=(0,x.useState)(!1),[_,g]=(0,x.useState)(!1),[y,w]=(0,x.useState)(""),[S,b]=(0,x.useState)(null),[I,k]=(0,x.useState)(t),[C,z]=(0,x.useState)(null),[T,A]=(0,x.useState)(null),[O,U]=(0,x.useState)(!1),[j,F]=(0,x.useState)(null),[M,E]=(0,x.useState)({}),J=(0,D.B)(),R=(0,u.cM)(),V=(0,c.L)(),q=(0,v.d)(),{isModalOpen:B,handleCloseModal:Z,handleOpenModal:X}=(0,i.o)(),[L,H]=(0,x.useState)({shouldHandleRedirect:!1,redirectToCollectionDetailsPage:V}),{add:G,status:Q,collectionId:W,verificationCode:$}=N(),{setIsSaveInProgress:ee,setDisableFetch:et}=(0,l.c)();(0,x.useEffect)(()=>()=>b(null),[]),(0,x.useEffect)(()=>()=>k(""),[]);var er=(0,x.useCallback)(e=>{var{formattedAssets:t,gridItems:r,isCopyToCollection:a,mappedAssetType:n,redirectToCollectionDetailsPage:i,pageSection:o,listId:l,isMoveToAction:s}=e;k(n),b(t),A(o),F(l),U(s),a&&g(!0),r&&z(r),i&&H({shouldHandleRedirect:!0,redirectToCollectionDetailsPage:i}),p(!0)},[]),ea=(0,x.useMemo)(()=>({assets:S,pageSection:T,assetType:I,collectionId:W,collectionTitle:y,gridItems:C,isDialogActive:m,isSnackBarOpen:f,onAddToCollections:e=>{var{id:t,title:r,verificationCode:a,groupedOptions:n,pageSection:i}=e;return w(r),p(!1),h(!0),G({assetType:I,assets:S,gridItems:C,groupedOptions:n,id:t,title:r,verificationCode:a,pageSection:i||T,listId:j})},onAlertSnackbarClose:()=>h(!1),redirectToCDPAction:L,setIsDialogActive:p,showCopyToModalTitle:_,status:Q,verificationCode:$,isMoveTo:O}),[S,C,G,j,T,I,W,y,m,f,L,_,Q,$,O]),en=(0,x.useCallback)(function(){var e=(0,a._)(function*(e){var t,a,{assets:i,gridItems:o,isCopyToCollection:l=!1,redirectToCollectionDetailsPage:u,pageSection:c,listId:v,openModal:m=!1,cta:p="",isMoveToAction:f=!1}=e;if((null==r?void 0:r.current)&&(r.current.isInProgress=!0,null===(t=(a=r.current).continuousStart)||void 0===t||t.call(a)),yield(0,P.y)(),J){et(!1),ee(!0);var h=K(i);er({formattedAssets:h,gridItems:o,isCopyToCollection:l,mappedAssetType:(0,d.A8)(h[0]),redirectToCollectionDetailsPage:u,pageSection:c,isMoveToAction:f,listId:v})}else m&&!q?(E((0,n._)({cta:p},i&&{assets:i},o&&{gridItems:o})),i&&window.sessionStorage.setItem(s.Iz,JSON.stringify(i)),o&&window.sessionStorage.setItem(s.em,JSON.stringify(o)),X()):(0,s.JO)({assets:i,gridItems:o,signUpPath:R})});return function(t){return e.apply(this,arguments)}}(),[J,q,et,ee,er,r,X,R]),ei=e=>e&&"undefined"!==e,eo=(0,x.useCallback)((0,a._)(function*(){var e=window.sessionStorage.getItem(s.Iz),t=window.sessionStorage.getItem(s.em);if(ei(e)&&ei(t)){var r=JSON.parse(e),a=JSON.parse(t);yield en({assets:r,gridItems:a,redirectToCollectionDetailsPage:!1})}window.sessionStorage.removeItem(s.cy),window.sessionStorage.removeItem(s.Iz),window.sessionStorage.removeItem(s.em)}),[en]);return(0,x.useEffect)(()=>{var e=window.sessionStorage.getItem(s.cy);ei(e)&&JSON.parse(e)?J&&eo():(0,s.DZ)({showAddToCollectionModal:er,isLoggedInUser:J})},[eo,J,er]),{addToCollectionViewsProps:ea,addToCollectionViewsHandler:en,AddToCollectionViews:Y,isModalOpen:B,handleCloseModal:Z,collectionProps:M}}},9591:(e,t,r)=>{r.d(t,{b:()=>p});var a=r(81862),n=r(52322),i=r(60411),o=r(64109),l=r(11045),s=r(1150),d=r(99384),u=r(77984),c=r(34273),v=r.n(c),m=r(2784),p=e=>{var{classesProps:t={},clickAnalyticsLabel:r="",errorMessage:c,successMessage:p,text:f="",label:h="",Component:_=l.h,tooltip:g}=e,{enqueueSnackbar:y}=(0,d.D)(),w=!f,S=(0,m.useCallback)((0,a._)(function*(){try{yield v()(f),y({message:p,alertSeverity:s.MR,isDismissible:!0})}catch(e){e&&y({message:c,alertSeverity:s.cM,error:e,isDismissible:!0})}}),[y,c,p,f]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{display:"inline-flex",flexDirection:"column",justifyContent:"center",textAlign:"center",mx:1,children:(0,n.jsx)(o.l,{title:g,placement:"top",children:(0,n.jsxs)(_,{"aria-label":g,className:t.copyToClipboard,clickTrack:r,disabled:w,onClick:()=>S(),size:"small",children:[(0,n.jsx)(u.Copy,{fontSize:"small",className:t.copyIcon}),h]})})})})}},64270:(e,t,r)=>{r.d(t,{o:()=>i});var a=r(24401),n=r(2784),i=()=>{var[e,t]=(0,n.useState)(!1),r=(0,a.d)();return{isModalOpen:e,handleOpenModal:()=>{r({actionName:"convert - signup modal opened"}),t(!0)},handleCloseModal:()=>{t(!1)}}}},38135:(e,t,r)=>{r.r(t),r.d(t,{DynamicSnackbar:()=>c});var a=r(52322),n=r(1150),i=r(98331),o=r(25237),l=r.n(o),s=r(2784),d=r(71146),u=l()(()=>r.e(55130).then(r.bind(r,87833)).then(e=>({default:e.Snackbar})),{loadableGenerated:{webpack:()=>[87833]},ssr:!1}),c=e=>{var{alertAction:t={},alertSeverity:r=n.H_,error:o,handleSnackbarClose:l=i.ZT,isOpen:c,message:v="",onSnackbarExited:m=i.ZT,isDismissible:p=!0,anchorOrigin:f=d.rX}=e,[h,_]=(0,s.useState)(!1);return(0,a.jsx)(a.Fragment,{children:c||h?(0,a.jsx)(u,{alertAction:t,alertSeverity:r,error:o,handleSnackbarClose:l,isOpen:c,message:v,onSnackbarExited:m,setEntered:_,isDismissible:p,anchorOrigin:f},v):null})}},19623:(e,t,r)=>{r.d(t,{J:()=>o});var a=r(98331),n=r(2784),i={applyCanvasViewed:a.ZT,applyToolAnalytics:a.ZT,emitEditProductAnalyticsEvent:a.Au},o=(0,n.createContext)(i)},30390:(e,t,r)=>{r.d(t,{k:()=>i});var a=r(2784),n=r(19623),i=()=>(0,a.useContext)(n.J)},87411:(e,t,r)=>{r.d(t,{L:()=>v,M:()=>c});var a=r(57460),n=r(6692),i=r(33624),o=r(31879),l=r(30095),s=r(34953),d=r(82024),u=r(2500),c=e=>{var{asset:t}=e;switch((0,u.Tp)(t)){case l.pX:return(0,d.FG)(Object.values(t.sizes));case l.k4:default:return(0,d.Nf)((null==t?void 0:t.sizes)&&Object.values(t.sizes))}},v=e=>{var t,r,c,{asset:v,selectedAssetSize:m,selectedShadowsOption:p,isTitleNeeded:f=!1}=e,h=(0,s.qw)({asset:v}),_=(0,u.f8)(v);(0,u.so)(v)&&(h=l.A7);var g=v.id.toString(),y=(0,s.JD)({assetType:h,assetId:g});switch(h){case l.pX:case l.A7:r=null==(t=m||(null===(c=(0,d.Z)({sizes:v.sizes}))||void 0===c?void 0:c[0]))?void 0:t.resolution;break;case l.j0:case l.tn:case l.xF:r=null==(t=m)?void 0:t.resolution;break;case l.pV:case l.ox:default:t=m||(0,d.Nf)(v.sizes),[r]=t.name.split("_")}return(0,a._)({content_id:g,content_type:y,content_size:r,content_format:null==t?void 0:t.format},f?{content_title:null==v?void 0:v.title}:{},_?(0,n._)((0,a._)({},m.format===o.yI&&{include_shadows:"on"===p}),{angle:(null==v?void 0:v.angle)||i.U}):{})}},97115:(e,t,r)=>{r.d(t,{DZ:()=>d,Iz:()=>n,JO:()=>s,LE:()=>o,cy:()=>l,em:()=>i});var a=r(2500),n="add_to_collection_asset",i="add_to_collection_grid_items",o="Save",l="save_to_collection",s=e=>{var{assets:t,gridItems:r,signUpPath:a}=e;window&&(t&&window.sessionStorage.setItem(n,JSON.stringify(t)),r&&window.sessionStorage.setItem(i,JSON.stringify(r)),window.location=a)},d=e=>{var{showAddToCollectionModal:t,isLoggedInUser:r}=e;if(void 0!==r){if(r){var o=window.sessionStorage.getItem(n),l=window.sessionStorage.getItem(i);if((e=>e&&"undefined"!==e)(o)&&(e=>e&&"undefined"!==e)(l)){var s=JSON.parse(o),d=JSON.parse(l),u=[].concat(s);t({formattedAssets:u,gridItems:d,mappedAssetType:(0,a.A8)(u[0]),isCopyToCollection:!1,redirectToCollectionDetailsPage:!1})}}window.sessionStorage.removeItem(n),window.sessionStorage.removeItem(i)}}},34448:(e,t,r)=>{r.d(t,{$m:()=>y,Ak:()=>p,Ck:()=>w,E4:()=>b,Nb:()=>v,U0:()=>S,WP:()=>g,fg:()=>m,w4:()=>_,wZ:()=>I});var a=r(57460),n=r(6692),i=r(75171),o=r(30095),l=r(57639),s=r(30645),d=r(30097),u=r(82024),c=r(2500),v=e=>"Untitled"===e,m=function(){var{items:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&0===e.length},p=e=>{var t=!(null==e?void 0:e.role)&&!(null==e?void 0:e.isPublic);return(null==e?void 0:e.role)===s.ad||t},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:t=""}=e,[,r,a]=t.split("-");return{id:a,type:r===o.j0?o.xF:r,aspect:1,src:"",previewImageUrl:""}},h=function(){var e,t,{metadata:r={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.tracking){try{e=(0,d.Be)({trackingId:null===(t=JSON.parse(r.tracking))||void 0===t?void 0:t.search})}catch(t){e=(0,d.Be)({trackingId:r.tracking})}return(0,a._)({search_context:e},n)}return n},_=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(null===(e=t.mediaItem)||void 0===e?void 0:e.id)?(0,u.Sw)(t.mediaItem):r&&f(t)},g=(e,t)=>e?e.reduce((e,r)=>{var i=_(r,t);return e.collectionItems.push((0,n._)((0,a._)({},r),{mediaItem:(0,n._)((0,a._)({},i),{meta:h(r,null==r?void 0:r.meta)})})),i&&e.mediaItems.push((0,n._)((0,a._)({},i),{meta:h(r,null==i?void 0:i.meta)})),e},{collectionItems:[],mediaItems:[]}):{collectionItems:e},y=e=>{var{assetType:t,t:r,totalItemCount:a}=e,n=t===o.gP,i=1===a,l=n?"ent:collection_editorial_total_single":"feature-collections:number_".concat(o.d_[t],"_single"),s=n?"ent:collection_editorial_total_plural":"feature-collections:number_".concat(o.d_[t],"_plural");return r(i?l:s,{NUM_TRACKS:a})},w=e=>{var{t,formatter:r,date:a}=e;if(!r||!a)return"";try{return t("footage:directors_choice_list_collection_card_edited_date",{DATE:r(new Date(a))})}catch(e){return console.error(e),""}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return!!e.find(e=>e.type===l.A8)},b=e=>{var{assets:t=[],assetType:r}=e;switch(r){case o.xF:case o.j0:return t.some(e=>(0,c.O)({track:e}));case o.k4:return t.some(e=>(0,c.PD)(e));default:return!1}},I=e=>{var{assetType:t,isBrandSstk:r}=e;return r?i.p[t]:l.sE[t]}},43677:(e,t,r)=>{r.d(t,{Oo:()=>U,rB:()=>S});var a=r(81862),n=r(57460),i=r(9778),o=r(33624),l=r(31879),s=r(63002),d=r(30095),u=r(52078),c=r(29599),v=r(34082),m=r(82024),p=r(2500),f=r(19448),h=r(79756),_=r(64528),g=r(2100),y=r(34953),w=e=>{var t,r,{asset:a}=e,{angle:i,selectedFormatType:d,selectedShadowsOption:u}=a;return(0,n._)({angle:i||(null==a?void 0:null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.angle)||o.U,content_size:s.JF},d===l.yI&&{include_shadows:"on"===u})},S=e=>{var t,r,{asset:a}=e;return(null==a?void 0:null===(r=a.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.sizes)||a.sizes},b=function(){var e=(0,a._)(function*(e){var t,{asset:r}=e;if((null==r?void 0:null===(t=r.metadata)||void 0===t?void 0:t.cart)&&!r.metadata.cart.sizes){var a=(0,p.so)(r),n={id:r.id};return a&&(n.channel=u.$S,n.content_provider=c._e),(yield h.uS.get((0,i.om)({queryParams:n}).formattedUrl).then(e=>{var{data:t}=e;return(0,_.O)(t)})).sizes}return S({asset:r})});return function(t){return e.apply(this,arguments)}}(),I=e=>{var t,r,a,n,{asset:i,is3dObject:o,isRexEditorial:l,selectedAssetSize:s}=e;return i.licenseAsJpeg||(null===(r=i.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.licenseAsJpeg)?"jpeg":o&&i.selectedFormatType?"3dByFormat":o&&(null===(n=i.metadata)||void 0===n?void 0:null===(a=n.cart)||void 0===a?void 0:a.size)?"3dBySize":f.Bg[s]?"comped":l?"rexEditorial":"default"},k=e=>{var t,r,a,n,{asset:i,licenseStrategy:o,selectedAssetSize:d,sizesToUseArray:u}=e,c=(()=>{switch(o){case"jpeg":return u.find(e=>{var{format:t}=e;return t===l._3});case"3dByFormat":return u.find(e=>{var{format:t}=e;return t===i.selectedFormatType});case"3dBySize":return;case"comped":return(0,m.AR)({sizes:u,compSizeImage:d});default:return(0,m.Nf)(u)}})(),v=(null==c?void 0:c.format)||(null===(r=i.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.format);switch(o){case"rexEditorial":return{size:s.vD,format:v};case"3dByFormat":var[p]=c.name.split("_");return{size:p,format:v};case"3dBySize":return{size:null==i?void 0:null===(n=i.metadata)||void 0===n?void 0:null===(a=n.cart)||void 0===a?void 0:a.size,format:v};default:return{size:f.nd[(0,g.z)(c.name)].downloadName,format:v}}},C=e=>{var t,r,a,i,{selectedAssetSize:o,asset:l}=e,d=S({asset:l}),u=(0,p.EK)(l),c=(0,p.f8)(l),v=c?w({asset:l,selectedAssetSize:o,sizesToUse:d}):{};if(!d&&(null==l?void 0:null===(r=l.metadata)||void 0===r?void 0:null===(t=r.cart)||void 0===t?void 0:t.size)&&(null==l?void 0:null===(i=l.metadata)||void 0===i?void 0:null===(a=i.cart)||void 0===a?void 0:a.format))return(0,n._)({content_size:u?s.vD:l.metadata.cart.size,content_format:l.metadata.cart.format},v);var m=Object.values(d),f=I({asset:l,is3dObject:c,isRexEditorial:u,selectedAssetSize:o}),{size:h,format:_}=k({asset:l,licenseStrategy:f,selectedAssetSize:o,sizesToUseArray:m});return(0,n._)({content_size:h,content_format:_},v)},z=e=>{var{map:t,licenseName:r}=e,a=t[r];return a===s.T0?s.qY:a},x=e=>{var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,sizes:i}=e,o=(0,p.EK)(t),l=(0,p.cL)(t),s=(0,p.$Q)({sizes:Object.values(i)});return!a&&s?z({map:f.Q1,licenseName:r}):a||r===v.f12||o||l?!n||o||l?(0,m.mF)(i):f.kR[n]:z({map:f.kR,licenseName:r})},T=function(){var e=(0,a._)(function*(e){var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n}=e,i=yield b({asset:t}),o=x({asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,sizes:i}),l=(0,p.EK)(t),d=Object.values(i).find(e=>{var{resolution:t}=e;return f.wb[null==t?void 0:t.toLowerCase()]===o});return{content_size:l?s.vD:o,content_format:null==d?void 0:d.format}});return function(t){return e.apply(this,arguments)}}(),A=e=>{var t,{format:r,selectedAssetSize:a}=e;switch(a){case"stereo":t=s.cs;break;case"5.1":t=s.gp;break;default:t=s.yy}return{content_size:t,content_format:r===l.iH?l.iH:l._Y}},O=function(){var e=(0,a._)(function*(e){var{asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n,format:i}=e,o=(0,y.qw)({asset:t});switch((0,p.so)(t)&&(o=d.A7),o){case d.pX:case d.A7:return yield T({asset:t,licenseName:r,isVideoComp:a,selectedAssetSize:n});case d.j0:return{content_size:s.Ng,content_format:d.j0};case d.tn:return A({selectedAssetSize:n,format:i});default:return C({selectedAssetSize:n,asset:t})}});return function(t){return e.apply(this,arguments)}}(),U=function(){var e=(0,a._)(function*(e){var{licenseName:t,selectedAssetSize:r,asset:a,isVideoComp:i,format:o}=e,l=(0,y.qw)({asset:a}),s=a.id.toString();return(0,n._)({content_id:s,content_type:(0,y.JD)({assetType:l,assetId:s})},(yield O({asset:a,licenseName:t,isVideoComp:i,selectedAssetSize:r,format:o})))});return function(t){return e.apply(this,arguments)}}()},34953:(e,t,r)=>{r.d(t,{Fy:()=>d,JD:()=>o,Js:()=>u,qw:()=>l,rw:()=>s});var a=r(30095),n=r(34082),i=r(2500),o=e=>{var{assetId:t,assetType:r}=e;if((0,i.EK)({id:t}))return a.gP;switch(r){case a.k4:case a.Y_:case a.ox:case a.w5:return a.pV;case a.FM:return a.pX;case a.xF:case a.jr:return a.j0;case a.tn:return a.tn;default:return r}},l=e=>{var t,{asset:r}=e;if(null===(t=r.image)||void 0===t?void 0:t.isVector)return a.ox;if((0,i.EK)(r))return a.gP;var n=r.imageType||r.itemType||r.type;switch(n){case a.e3:case a.X2:case a.Y_:return a.k4;case a.FM:return a.pX;case a.jr:return a.j0;case a.tn:return a.tn;default:return n}},s=e=>{var{asset:t}=e;if((0,i.N3)(t))return a.gP;if((0,i.so)(t))return a.cF;var r=t.imageType||t.itemType||t.type;switch(r){case a.ox:case a.pV:case a.e3:case a.X2:case a.Y_:return a.k4;case a.FM:return a.pX;case a.jr:return a.j0;case a.tn:return a.tn;default:return r}},d=e=>{var{asset:t}=e;if((0,i.N3)(t))return a.nX;if((0,i.so)(t))return a.A7;var r=t.imageType||t.itemType||t.type;switch(r){case a.ox:case a.pV:case a.e3:case a.X2:case a.Y_:return a.k4;case a.FM:return a.pX;case a.jr:case a.xF:return a.j0;case a.tn:return a.tn;default:return r}},u=e=>{var t=d({asset:e.mediaItem});return e.licenseName===n._rW[t]}},40787:(e,t,r)=>{r.d(t,{KW:()=>v,VC:()=>m,fp:()=>d,lR:()=>u,ok:()=>p,qG:()=>c,r8:()=>f,vG:()=>s});var a=r(63002),n=r(30095),i=r(2500),o=r(39754),l=[n.pX],s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;if(!o.n5||"string"!=typeof e||e.includes("ip=x".concat(t)))return e;try{var r=new URL(e);return r.searchParams.set("ip","x".concat(t)),r.href}catch(t){return e}},d=e=>{var t,r,a;return(null==e?void 0:e.mediaItem)?{previewImageUrl:null===(r=e.mediaItem)||void 0===r?void 0:r.previewImageUrl,previewVideoUrls:null===(a=e.mediaItem)||void 0===a?void 0:a.previewVideoUrls}:{previewImageUrl:(null==e?void 0:e.thumbImageUrl)||(null==e?void 0:null===(t=e.image)||void 0===t?void 0:t.url)||(null==e?void 0:e.previewImageUrl),previewVideoUrls:null==e?void 0:e.previewVideoUrls}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(0,i.Am)(e)){var n,o,l,u=e.src||(null===(n=e.image)||void 0===n?void 0:n.url);return r&&(null==e?void 0:null===(l=e.displays)||void 0===l?void 0:null===(o=l[a.F5])||void 0===o?void 0:o.src)||u}var{previewImageUrl:c}=d(e);return s(c,t)},c=e=>{var{assetType:t}=e;return t===n.pX?"mp4":null},v=e=>{var{asset:t}=e;return l.includes((0,i.Tp)(t))&&!(0,i.so)(t)},m=function(){var e,t,r,n,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.vh)(null==l?void 0:l.type))return(null==l?void 0:l.width)>1e3?"".concat(null==l?void 0:l.previewUrls[0],"?width=1000"):null==l?void 0:l.previewUrls[0];var s=(0,i.EK)(l)?a.bm:a.RA,d=(null==l?void 0:null===(t=l.displays)||void 0===t?void 0:null===(e=t[s])||void 0===e?void 0:e.src)||(null==l?void 0:null===(o=l.image)||void 0===o?void 0:null===(n=o.displays)||void 0===n?void 0:null===(r=n[s])||void 0===r?void 0:r.src);return(0,i.f8)(l)&&l.angle?d.replace(/\/([A-Z]\d\d)./,"/".concat(l.angle,".")):d},p=function(){var e,t,r,o,l,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,i.Tp)(s);return d===n.k4||d===n.zo||d===n.Nk?(null==s?void 0:null===(t=s.displays)||void 0===t?void 0:null===(e=t[a.bm])||void 0===e?void 0:e.src)||(null==s?void 0:s.src):d===n.bz?null==s?void 0:null===(r=s.imageVariants)||void 0===r?void 0:r["1500"]:d===n.xF||d===n.tn?null==s?void 0:s.previewMp3:d===n.hv?null==s?void 0:s.previewUrls[0]:d===n.D8?null===(l=s.cmsEntry)||void 0===l?void 0:null===(o=l.image)||void 0===o?void 0:o.url:null},f=function(){var e,t,r,a,n,o,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],d={width:null!==(a=null!==(r=l.width)&&void 0!==r?r:null===(e=l.mediaItem)||void 0===e?void 0:e.width)&&void 0!==a?a:0,height:null!==(o=null!==(n=l.height)&&void 0!==n?n:null===(t=l.mediaItem)||void 0===t?void 0:t.height)&&void 0!==o?o:0};if((0,i.Am)(l)&&(!d.width||!d.height)&&l.sizes){var u=Object.keys(l.sizes).find(e=>l.sizes[e]);d.width=u&&l.sizes[u].width||0,d.height=u&&l.sizes[u].height||0}if(s&&(!d.width||!d.height)&&l.aspectRatioCommon){var[c,v]=l.aspectRatioCommon.split(":");d.width=Number(c),d.height=Number(v)}return d}},73637:(e,t,r)=>{r.d(t,{y:()=>a});var a=e=>{var{subPage:t,pageType:r}=e;return[t,r].join("-")}},19567:(e,t,r)=>{r.d(t,{t:()=>i});var a=r(2370),n=r(2784),i=()=>{var{analytics:e}=(0,a.yh)();return(0,n.useCallback)(function(){var{pageSection:t,eventLabel:r,clickTrackOptions:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&r&&e.inlineClick("".concat(t,".").concat(r),a)},[e])}},35409:(e,t,r)=>{r.d(t,{J:()=>l});var a=r(30097),n=r(44335),i=r(2370),o=r(2784),l=()=>{var{analytics:e}=(0,i.yh)(),{getSearchContext:t}=(0,n.Y)();return(0,o.useCallback)(r=>{var{collectionId:n,collectionName:i,gridItems:o,assets:l,pageSection:s,listId:d}=r;e.productAddedToWishlist({products:l.map(e=>(0,a.bR)({asset:e,getSearchContext:t,gridItems:o,pageSection:s})),wishlist_id:n,wishlist_name:i,list_id:null!=d?d:""})},[e,t])}},889:(e,t,r)=>{r.d(t,{U:()=>c});var a=r(57460),n=r(16093),i=r(30390),o=r(38170),l=r(30097),s=r(44335),d=r(2370),u=r(2784),c=()=>{var{analytics:e}=(0,d.yh)(),{locale:t}=(0,o.PE)(),{emitEditProductAnalyticsEvent:r}=(0,i.k)(),{getSearchContext:c}=(0,s.Y)();return(0,u.useCallback)(i=>{var{assets:o=[],audioContext:s,eventLabel:d,licenseId:u,isRedownload:v,isQuickDownload:m,isPaid:p,isComp:f,pageSection:h,listId:_}=i,g=d||f&&n.Vp1||void 0;e.productDownloaded((0,a._)({products:o.map(e=>(0,l.bR)({asset:e,shouldGetSearchContextFromAsset:!0,licenseId:u,pageSection:h})),download_context:(0,l.OB)({asset:o[0],isComp:f,isPaid:p,isQuickDownload:m,isRedownload:v,language:t}),eventLabel:g,list_id:null!=_?_:"",search_context:c(o[0])},s&&{audio_context:(0,a._)({},s)})),r("license")},[e,t,c,r])}},45077:(e,t,r)=>{r.d(t,{T:()=>d});var a=r(57460),n=r(30097),i=r(2500),o=r(44335),l=r(2370),s=r(2784),d=()=>{var{analytics:e}=(0,l.yh)(),{getSearchContext:t}=(0,o.Y)();return(0,s.useCallback)(r=>{var{asset:o,eventLabel:l,gridItems:s,isPreview:d,listId:u,pageSection:c}=r,v=(0,n.qI)(o),m=(0,n.f_)(o),p=(0,n.Rz)(o);e.productViewed((0,a._)({eventLabel:l,list_id:null!=u?u:"",page_section:c,asset_type:(0,i.ZZ)(o),category:(0,n.CP)(o),channels:(0,n.Ky)(o),is_preview:d,name:(0,n.LJ)(o),product_id:v,search_context:t(o),sku:v},s&&(null==s?void 0:s.length)>1?(0,n.mq)({gridItems:s,item:o}):{},m&&{brand:m},p&&{product_line:p}))},[e,t])}},2526:(e,t,r)=>{r.d(t,{z:()=>i});var a=r(2784),n=r(45077),i=e=>{var{asset:t,showErrorPageContent:r}=e,i=(0,n.T)();(0,a.useEffect)(()=>{!r&&t&&i({asset:t,isPreview:!1})},[t,i,r])}},44335:(e,t,r)=>{r.d(t,{Y:()=>u});var a=r(64576),n=r(75712),i=r(30097),o=r(3383),l=r(40824),s=r(21805),d=r(2784),u=()=>{var{isBrandSstk:e}=(0,o.D)(),{searchTrackingIdRef:t,searchTermRef:r,setters:{setSearchTrackingId:u,setSearchTerm:c}}=(0,n.uY)(),v=(0,d.useCallback)(r=>{var{trackingId:n,term:i}=r;if(n){if(t.current===n&&(0,l.CU)()===n)return;(0,l.Pc)(n),(0,l.v_)(i),u(n),c(i),e&&s.Z.set(a.d6,n,{expires:a.Dy,sameSite:"strict"})}},[e,t,c,u]),m=(0,d.useCallback)(function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{meta:n}=a,o=(0,i.lt)({asset:a})||t.current||(0,l.CU)();return(0,i.Be)({trackingId:(null==o?void 0:o.uuid)||o,searchTerm:(null==n?void 0:n.query)||(null==n?void 0:null===(e=n.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,l.DO)()})},[r,t]),p=(0,d.useCallback)(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=(null==t?void 0:t[0])||t,{meta:n}=a,o=(0,i.lt)({asset:a})||(0,l.CU)();return(0,i.Be)({trackingId:o,searchTerm:(null==n?void 0:n.query)||(null==n?void 0:null===(e=n.search_context)||void 0===e?void 0:e.search_term)||r.current||(0,l.DO)()})},[r]);return{setSearchContext:v,getSearchContext:m,validateSearchTrackingId:(0,d.useCallback)(()=>{var n=(0,l.CU)(),i=t.current,o=r.current,d=(0,l.DO)();(i!==n||o!==d)&&((0,l.Pc)(i),(0,l.v_)(o),e&&s.Z.set(a.d6,i,{expires:a.Dy,sameSite:"strict"}))},[e,r,t]),getSearchContextFromAssets:p}}},40775:(e,t,r)=>{r.d(t,{iP:()=>d,Ol:()=>l,o1:()=>u});var a=r(81862);let n=JSON.parse('{"id":"9b39276a4c2fd8168192d2aea104dbc7220c29975ed9b48a0841bb614ec5e8ef","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{isIpReviewed classicId referenceIds{namespace name value __typename}__typename}__typename}}"}');var i=r(18034),o=r(59820),l=e=>{var{assetIds:t}=e;return[n.source,{where:{classicIds:t}}]},s=e=>{var t;return(null==e?void 0:null===(t=e.creativeImages)||void 0===t?void 0:t.data)?e.creativeImages.data.filter(e=>null!==e).map(e=>{var t=(null==e?void 0:e.isIpReviewed)||!1,r=(null==e?void 0:e.referenceIds)||[],a=(null==e?void 0:e.classicId)||"",n=r.find(e=>(null==e?void 0:e.namespace)==="ip_review"&&(null==e?void 0:e.name)==="ip_review_status");return{classicId:a,isIpReviewed:t,ipReviewStatus:(null==n?void 0:n.value)||"",queryKey:l({assetIds:[a]})}}):[]},d=function(){var e=(0,a._)(function*(e,t){var[r,a]=t;return e(r,a).then(s)});return function(t,r){return e.apply(this,arguments)}}(),u=(e,t)=>{var{assetIds:r}=e,a=(0,i.H)("/");return(0,o.a)({enabled:t,queryKey:l({assetIds:r}),queryFn:e=>{var{queryKey:t}=e;return d(a,t)}})}},31125:(e,t,r)=>{r.d(t,{L:()=>o});var a=r(14109),n=r(5632),i=r(2784),o=()=>{var e=(0,n.useRouter)();return(0,i.useCallback)(t=>{var{assetType:r,collectionId:n,verificationCode:i}=t,o=(0,a.B)({assetType:r,id:n,verificationCode:i});e.push(...o)},[e])}},7796:(e,t,r)=>{r.d(t,{L:()=>v,M:()=>c});var a=r(57460),n=r(6692),i=r(3983),o=r(2370),l=r(21805),s=r(2784),d=r(46814),u=r(81590),c=()=>{var{data:e}=(0,d.jy)(),{data:t}=(0,u.u)(),r=l.Z.get("n_v"),{isGoodBot:o,isSuspectedBadBot:c}=(0,i.N)();return(0,s.useCallback)(i=>{var l,s,d,u,v,{customAttributes:m={},error:p,msg:f,level:h="error"}=i,_=p||Error(f),g="function"==typeof _.toJSON?null===(l=_.toJSON)||void 0===l?void 0:l.call(_):{},y=(0,n._)((0,a._)((0,n._)((0,a._)({},m,g),{clientVersion:r,errorCode:_.code,errorStatus:_.status,errorDetail:_.detail,errorMessage:_.message,errorStack:_.stack||"useNewRelicNoticeError",errorTitle:_.title}),e&&{createTime:e.createTime,organizationId:e.organizationId,userId:e.id,username:e.username}),{impersonatorId:null==t?void 0:t.impersonatorId,isGoodBot:o,isSuspectedBadBot:c,msg:f,path:window.location.pathname,referrerPath:window.location.pathname,query:window.location.search,referrerQuery:window.location.search});"error"===h?(null===(d=window.NREUM)||void 0===d||null===(s=d.noticeError)||void 0===s||s.call(d,_,y),window.origin.includes("localhost")&&console.warn("sent newrelic noticeError",y)):"warn"===h&&(null===(v=window.NREUM)||void 0===v||null===(u=v.addPageAction)||void 0===u||u.call(v,_.message,(0,n._)((0,a._)({},y),{warning:!0})),window.origin.includes("localhost")&&console.log("sent newrelic addPageAction",y))},[r,t.impersonatorId,o,c,e])},v=e=>{var{customAttributes:t={},error:r,level:a="error",msg:n}=e,{data:i}=(0,d.jy)(),{data:l}=(0,u.u)(),{analytics:v}=(0,o.yh)(),m=c();(0,s.useEffect)(()=>{i&&l&&(m({customAttributes:t,error:r,msg:n,level:a}),"error"===a&&v.click({name:t.component,eventAction:t.eventAction||"seeError",eventCategory:a,eventLabel:"error-experience",eventValue:{actionText:t.actionText}}))},[r,l,a,n,i])}},30612:(e,t,r)=>{r.d(t,{w:()=>d});var a=r(81862),n=r(9778),i=r(1150),o=r(57639),l=r(79756),s=r(2784),d=()=>{var[e,t]=(0,s.useState)({status:"",error:void 0}),r=(0,s.useCallback)(function(){var e=(0,a._)(function*(e){var{collection:r,mediaItem:a}=e,s=(0,n.df)({urlParams:{id:r.id}}).formattedUrl,d={data:{id:r.id,relationships:{"cover-item":{data:{id:"".concat(a.id),type:o.A8}}},type:o.Ul}};try{t({status:i.MR,error:void 0}),yield l.uS.patch(s,d)}catch(e){t({status:i.cM,error:e})}});return function(t){return e.apply(this,arguments)}}(),[]);return{status:e,setStatus:t,setAsCover:r}}},27328:(e,t,r)=>{r.d(t,{A_:()=>y,QH:()=>b,VM:()=>k,Zc:()=>z,mJ:()=>S,oe:()=>C,uG:()=>w});var a=r(81862),n=r(57460),i=r(6692),o=r(49270),l=r(9778),s=r(31879),d=r(63002),u=r(30095),c=r(52078),v=r(34082),m=r(43677),p=r(82024),f=r(2500),h=r(81437),_=r(79756),g=r(75976),y=function(e){var{name:t,target:r="_self"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=document.createElement("a");a.setAttribute("data-automation","FeatureDownload_utils_link"),a.style.display="none",a.href=e,a.target=r,a.download=t||e,document.body.appendChild(a),a.click(),(0,g.bK)()||document.body.removeChild(a)},w=function(){var e=(0,a._)(function*(e){var{downloadBundlePayload:t}=e,r=(0,o.e)({urlParams:{filename:t.bundleFilename}}).formattedUrl,{public_url:a}=(yield _.jl.post(r,t.content)).data;return a});return function(t){return e.apply(this,arguments)}}(),S=e=>{var{licensedContent:t,supplementalUrlType:r}=e,{downloadUrl:a,supplementalUrls:n}=t[0];if((null==n?void 0:n.length)&&r){var{url:i=a}=n.find(e=>{var{type:t}=e;return t===r})||{};return i}return a},b=function(){var e=(0,a._)(function*(e){var{downloadPayload:t,supplementalUrlType:r,licenseeIdentifier:a}=e,n=(0,l.f$)({urlParams:{licenseeIdentifier:a}}).formattedUrl,{data:{meta:{licensedContent:i}}}=yield _.uS.post(n,t);return{downloadUrl:S({licensedContent:i,supplementalUrlType:r}),licensedContent:i}});return function(t){return e.apply(this,arguments)}}(),I=e=>{var{existingAssetLicenses:t,contentType:r,licenseName:a,subscriptions:n}=e;switch(r){case u.pX:var i,o,l=(0,h.I)({existingAssetLicenses:t,subscriptions:[...null!==(i=null==n?void 0:n.videoSubscriptions)&&void 0!==i?i:[],...null!==(o=null==n?void 0:n.videoCompSubscriptions)&&void 0!==o?o:[]],licenseName:a});return(null==l?void 0:l.redeemableFor)||a;case u.j0:return a||v.zUW;case u.tn:return a||v.i9D;case u.pV:default:return a}},k=function(){var e=(0,a._)(function*(e){var t,{assets:r,existingAssetLicenses:o,format:l,selectedAssetSize:v,subscriptions:h}=e,_=r.map((t=(0,a._)(function*(e){var t=(0,p.SS)({asset:e}),r=yield(0,m.Oo)({asset:e,licenseName:e.licenseId,selectedAssetSize:v});return(0,i._)((0,n._)({},r,t===u.tn&&{override_filename:"".concat(c.Oq,"_").concat(e.id,".").concat(l||r.content_format)},(0,f.f8)(e)&&(0,n._)({content_provider:"pixelsquid-media",content_size:d.JF},e.selectedFormatType===s.yI&&{include_shadows:"on"===e.selectedShadowsOption})),{license_name:I({existingAssetLicenses:o,contentType:t,licenseName:e.licenseId,subscriptions:h}),show_modal:!0})}),function(e){return t.apply(this,arguments)}));return{required_cookies:"",content:yield Promise.all(_)}});return function(t){return e.apply(this,arguments)}}(),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&e.id&&(e.title||e.description)&&e.type&&window.localStorage.setItem("sstk_ent_asset_preview",JSON.stringify({id:e.id,title:e.title||e.description,thumb:e.src||e.previewImageUrl||"",video:e.previewVideoUrls,url:e.link,type:(0,f.Tp)(e),isRex:e.isRexEditorial}))},z=e=>{var t;return requestAnimationFrame?function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e(...a)})}:e}}}]);
//# sourceMappingURL=21713-c77d6dc911310eb2.js.map